// Generated by CoffeeScript 2.5.1
var SIZE, pics, width,
  indexOf = [].indexOf;

import {
  global
} from '../js/globals.js';

import {
  param
} from '../js/utils.js';

SIZE = global.SIZE;

pics = global.pics;

width = global.width;

export var Square = class Square {
  constructor(i) {
    this.draw = this.draw.bind(this);
    this.i = i;
    param.Integer(this.i);
    this.x = this.i % 8;
    this.y = 7 - Math.floor(this.i / 8);
    this.w = SIZE;
    this.h = SIZE;
    this.col = 'white';
  }

  draw(piece, flipped) {
    var x, y;
    param.Test(indexOf.call('rnbqkpRNBQKP12345678', piece) >= 0, piece);
    param.Boolean(flipped);
    if ((this.x + this.y) % 2 === 1) {
      fill('gray');
    } else {
      fill('lightgray');
    }
    [x, y] = flipped ? [7 - this.x, 7 - this.y] : [this.x, this.y];
    noStroke();
    rect(SIZE * (x + 1), SIZE * (y + 1), SIZE, SIZE);
    if (indexOf.call('rnbqkpRNBQKP', piece) >= 0) {
      return image(pics[piece], SIZE * (x + 0.5), SIZE * (y + 0.5), SIZE, SIZE);
    }
  }

};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3F1YXJlLmpzIiwic291cmNlUm9vdCI6Ii4uIiwic291cmNlcyI6WyJjb2ZmZWVcXHNxdWFyZS5jb2ZmZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLElBQUEsSUFBQSxFQUFBLElBQUEsRUFBQSxLQUFBO0VBQUE7O0FBQUEsT0FBQTtFQUFRLE1BQVI7Q0FBQSxNQUFBOztBQUNBLE9BQUE7RUFBUSxLQUFSO0NBQUEsTUFBQTs7QUFFQSxJQUFBLEdBQU8sTUFBTSxDQUFDOztBQUNkLElBQUEsR0FBTyxNQUFNLENBQUM7O0FBQ2QsS0FBQSxHQUFRLE1BQU0sQ0FBQzs7QUFFZixPQUFBLElBQWEsU0FBTixNQUFBLE9BQUE7RUFDTixXQUFhLEVBQUEsQ0FBQTtRQU9iLENBQUEsV0FBQSxDQUFBO0lBUGMsSUFBQyxDQUFBO0lBQ2QsS0FBSyxDQUFDLE9BQU4sQ0FBYyxJQUFDLENBQUEsQ0FBZjtJQUNBLElBQUMsQ0FBQSxDQUFELEdBQUssSUFBQyxDQUFBLENBQUQsR0FBRztJQUNSLElBQUMsQ0FBQSxDQUFELEdBQUssQ0FBQSxjQUFJLElBQUMsQ0FBQSxJQUFHO0lBQ2IsSUFBQyxDQUFBLENBQUQsR0FBSztJQUNMLElBQUMsQ0FBQSxDQUFELEdBQUs7SUFDTCxJQUFDLENBQUEsR0FBRCxHQUFPO0VBTks7O0VBT2IsSUFBTyxDQUFDLEtBQUQsRUFBTyxPQUFQLENBQUE7QUFDUixRQUFBLENBQUEsRUFBQTtJQUFFLEtBQUssQ0FBQyxJQUFOLGNBQW9CLHdCQUFULFdBQVgsRUFBMkMsS0FBM0M7SUFDQSxLQUFLLENBQUMsT0FBTixDQUFjLE9BQWQ7SUFDQSxJQUFHLENBQUMsSUFBQyxDQUFBLENBQUQsR0FBRyxJQUFDLENBQUEsQ0FBTCxDQUFBLEdBQVUsQ0FBVixLQUFlLENBQWxCO01BQXlCLElBQUEsQ0FBSyxNQUFMLEVBQXpCO0tBQUEsTUFBQTtNQUEwQyxJQUFBLENBQUssV0FBTCxFQUExQzs7SUFDQSxDQUFDLENBQUQsRUFBRyxDQUFILENBQUEsR0FBVyxPQUFILEdBQWdCLENBQUMsQ0FBQSxHQUFFLElBQUMsQ0FBQSxDQUFKLEVBQU0sQ0FBQSxHQUFFLElBQUMsQ0FBQSxDQUFULENBQWhCLEdBQWlDLENBQUMsSUFBQyxDQUFBLENBQUYsRUFBSSxJQUFDLENBQUEsQ0FBTDtJQUN6QyxRQUFBLENBQUE7SUFDQSxJQUFBLENBQUssSUFBQSxHQUFLLENBQUMsQ0FBQSxHQUFFLENBQUgsQ0FBVixFQUFnQixJQUFBLEdBQUssQ0FBQyxDQUFBLEdBQUUsQ0FBSCxDQUFyQixFQUEyQixJQUEzQixFQUFnQyxJQUFoQztJQUNBLGlCQUFZLGdCQUFULFdBQUg7YUFDQyxLQUFBLENBQU0sSUFBSSxDQUFDLEtBQUQsQ0FBVixFQUFrQixJQUFBLEdBQUssQ0FBQyxDQUFBLEdBQUUsR0FBSCxDQUF2QixFQUErQixJQUFBLEdBQUssQ0FBQyxDQUFBLEdBQUUsR0FBSCxDQUFwQyxFQUE0QyxJQUE1QyxFQUFpRCxJQUFqRCxFQUREOztFQVBNOztBQVJEIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtnbG9iYWx9IGZyb20gJy4uL2pzL2dsb2JhbHMuanMnXHJcbmltcG9ydCB7cGFyYW19IGZyb20gJy4uL2pzL3V0aWxzLmpzJ1xyXG5cclxuU0laRSA9IGdsb2JhbC5TSVpFXHJcbnBpY3MgPSBnbG9iYWwucGljc1xyXG53aWR0aCA9IGdsb2JhbC53aWR0aFxyXG5cclxuZXhwb3J0IGNsYXNzIFNxdWFyZVxyXG5cdGNvbnN0cnVjdG9yOiAoQGkpIC0+XHJcblx0XHRwYXJhbS5JbnRlZ2VyIEBpXHJcblx0XHRAeCA9IEBpJThcclxuXHRcdEB5ID0gNyAtIEBpLy84XHJcblx0XHRAdyA9IFNJWkVcclxuXHRcdEBoID0gU0laRVxyXG5cdFx0QGNvbCA9ICd3aGl0ZSdcclxuXHRkcmF3IDogKHBpZWNlLGZsaXBwZWQpID0+XHJcblx0XHRwYXJhbS5UZXN0IHBpZWNlIGluICdybmJxa3BSTkJRS1AxMjM0NTY3OCcscGllY2VcclxuXHRcdHBhcmFtLkJvb2xlYW4gZmxpcHBlZFxyXG5cdFx0aWYgKEB4K0B5KSAlIDIgPT0gMSB0aGVuIGZpbGwgJ2dyYXknIGVsc2UgZmlsbCAnbGlnaHRncmF5J1xyXG5cdFx0W3gseV0gPSBpZiBmbGlwcGVkIHRoZW4gWzctQHgsNy1AeV0gZWxzZSBbQHgsQHldXHJcblx0XHRub1N0cm9rZSgpXHJcblx0XHRyZWN0IFNJWkUqKHgrMSksU0laRSooeSsxKSxTSVpFLFNJWkVcclxuXHRcdGlmIHBpZWNlIGluICdybmJxa3BSTkJRS1AnXHJcblx0XHRcdGltYWdlIHBpY3NbcGllY2VdLFNJWkUqKHgrMC41KSxTSVpFKih5KzAuNSksU0laRSxTSVpFXHJcbiJdfQ==
//# sourceURL=c:\github\2023-018-Python-Chess_Evaluate\coffee\square.coffee