// Generated by CoffeeScript 2.5.1
var f, g, pgdn, pgup,
  modulo = function(a, b) { return (+a % (b = +b) + b) % b; },
  indexOf = [].indexOf;

export var global = {
  version: 'ver: A',
  board: null,
  index: 0,
  SIZE: 50,
  filename: "",
  pics: {},
  moves: [],
  data: null,
  superIndex: 0,
  piecess: [],
  buttons: [],
  partier: {},
  currGame: 0
};

import {
  ass,
  log,
  range,
  split,
  param
} from '../js/utils.js';

import {
  Button
} from '../js/button.js';

export var coords = (uci) => {
  var c0, c1, r0, r1;
  param.String(uci);
  c0 = "abcdefgh".indexOf(uci[0]);
  r0 = "12345678".indexOf(uci[1]);
  c1 = "abcdefgh".indexOf(uci[2]);
  r1 = "12345678".indexOf(uci[3]);
  return param.Array([c0 + 8 * r0, c1 + 8 * r1]);
};

ass([8, 24], coords("a2a4"));

export var empty = (n) => {
  param.Integer(n);
  return param.String((1 + Math.floor(n / 8)).toString());
};

pgup = () => {
  return loadGame(1);
};

pgdn = () => {
  return loadGame(-1);
};

export var loadGame = (delta) => {
  var j, keys, len, move, ref;
  param.Test(delta === (-1) || delta === 0 || delta === 1);
  global.currGame = modulo(global.currGame + delta, _.size(global.partier));
  keys = _.keys(global.partier);
  global.filename = keys[global.currGame];
  global.data = global.partier[keys[global.currGame]];
  global.board.start();
  global.moves = global.data.plies;
  global.piecess = [];
  global.moves = _.map(global.moves, (move) => {
    var san, score, scores, superiors, superiorsSan, uci;
    score = move[1];
    san = move[2];
    superiorsSan = split(move[3]);
    uci = move[4];
    superiors = split(move[5]);
    scores = split(move[6]);
    superiorsSan = superiorsSan.slice(0, 12);
    superiors = superiors.slice(0, 12);
    return {score, uci, san, superiors, superiorsSan, scores};
  });
  global.piecess.push(global.board.pieces);
  ref = global.moves;
  for (j = 0, len = ref.length; j < len; j++) {
    move = ref[j];
    global.board.pieces = makeMove(move.uci, _.last(global.piecess));
    global.piecess.push(global.board.pieces);
  }
  return clickString('last'); // slutställning
};

export var makeMove = (uci, pieces) => {
  var enPassant, enPassantTrue, from, normalMove, promote, swap, to;
  param.String(uci);
  param.String(pieces);
  swap = function(a, b, c, d) {
    param.Integer(a);
    param.Integer(b);
    param.Integer(c);
    param.Integer(d);
    return [pieces[a], pieces[b], pieces[c], pieces[d]] = [pieces[b], pieces[a], pieces[d], pieces[c]];
  };
  promote = function(uci, from, to) {
    var newPiece;
    param.String(uci);
    param.Integer(from);
    param.Integer(to);
    newPiece = uci[4];
    if (indexOf.call(range(56, 63), to) >= 0) {
      newPiece = newPiece.toUpperCase();
    }
    pieces[to] = newPiece;
    return pieces[from] = empty(from);
  };
  enPassantTrue = function(from, to) { // Denna funktion skapades av CoPilot. Nästan korrekt.
    var ref, ref1, ref2, res;
    param.Integer(from);
    param.Integer(to);
    res = false;
    if ((ref = pieces[from], indexOf.call('pP', ref) >= 0) && pieces[to] === empty(to)) {
      if (pieces[from] === 'p' && pieces[to + 8] === 'P' && ((ref1 = from - to) === 7 || ref1 === 9)) {
        res = true; // black takes white pawn
      }
      if (pieces[from] === 'P' && pieces[to - 8] === 'p' && ((ref2 = to - from) === 7 || ref2 === 9)) {
        res = true; // white takes black pawn
      }
    }
    return param.Boolean(res);
  };
  enPassant = function(from, to) {
    param.Integer(from);
    param.Integer(to);
    if (pieces[from] === 'p') {
      pieces[to + 8] = empty(to + 8);
    }
    if (pieces[from] === 'P') {
      pieces[to - 8] = empty(to - 8);
    }
    pieces[to] = pieces[from];
    return pieces[from] = empty(to);
  };
  normalMove = function(from, to) {
    param.Integer(from);
    param.Integer(to);
    pieces[to] = pieces[from];
    pieces[from] = empty(from);
    return param.Array(pieces);
  };
  pieces = pieces.split("");
  [from, to] = coords(uci);
  if (uci === 'e1g1') {
    swap(4, 6, 5, 7); // castlings
  } else if (uci === 'e1c1') {
    swap(4, 2, 0, 3);
  } else if (uci === 'e8g8') {
    swap(60, 62, 61, 63);
  } else if (uci === 'e8c8') {
    swap(56, 59, 58, 60);
  } else if (uci.length === 5) {
    promote(uci, from, to);
  } else if (enPassantTrue(from, to)) {
    enPassant(from, to);
  } else {
    normalMove(from, to);
  }
  pieces = pieces.join("");
  return pieces;
};

ass("RNBQKBNRPPPP2PPP333333334444P4445555555566666666pppppppprnbqkbnr", makeMove('e2e4', "RNBQKBNRPPPPPPPP33333333444444445555555566666666pppppppprnbqkbnr"));

ass("R1111RK1222222223333333344444444555555556666666677777777r888k88r", makeMove('e1g1', "R111K11R222222223333333344444444555555556666666677777777r888k88r"));

ass("11KR111R222222223333333344444444555555556666666677777777r888k88r", makeMove('e1c1', "R111K11R222222223333333344444444555555556666666677777777r888k88r"));

ass("R111K11R222222223333333344444444555555556666666677777777r8888rk8", makeMove('e8g8', "R111K11R222222223333333344444444555555556666666677777777r888k88r"));

ass("R111K11R22222222333333334444444455555555666666667777777788kr888r", makeMove('e8c8', "R111K11R222222223333333344444444555555556666666677777777r888k88r"));

ass("R111K11R222222223333333344444444555555556666666677777777Q8888888", makeMove('a7a8q', "R111K11R2222222233333333444444445555555566666666P777777788888888"));

ass("1111r11122222222333333334444444455555555666666667777777788888888", makeMove('e2e1r', "111111112222p222333333334444444455555555666666667777777788888888"));

ass("11111111222222223333p3334444444455555555666666667777777788888888", makeMove('f4e3', "11111111222222223333P33344444p4455555555666666667777777788888888"));

ass('RNBQKBNR2PPPPPPP33333333P44444445555555566666666pppppppprnbqkbnr', makeMove('a2a4', "RNBQKBNRPPPPPPPP33333333444444445555555566666666pppppppprnbqkbnr"));

g = (item) => {
  // param.Integer item or param.String
  if (indexOf.call(item, "#-") >= 0) {
    return -1000;
  }
  if (indexOf.call(item, "#") >= 0) {
    return 1000;
  }
  return param.Integer(parseInt(item));
};

f = (arrScore, c) => {
  var a, b, d;
  param.Array(arrScore);
  param.String(c);
  arrScore = _.map(arrScore, (item) => {
    return g(item);
  });
  a = _.min(arrScore);
  b = _.max(arrScore);
  c = g(c);
  d = _.max([Math.abs(a), Math.abs(b)]);
  a = -d;
  return param.Number((c - a) / (2 * d));
};

ass(0, f([-100, 50], '-100'));

ass(0.75, f([-100, 50], '50'));

ass(1, f([-100, 50], '100'));

export var setIndex = (value) => {
  var arrSAN, arrScore, i, j, len, move, ref;
  param.Integer(value);
  if (value < -1 || value > global.moves.length) {
    return;
  }
  if (value === -1) {
    return global.board.start();
  } else {
    global.index = value;
    global.buttons = [];
    global.board.pieces = global.piecess[global.index];
    if (global.index <= 0) {
      return;
    }
    move = global.moves[global.index - 1];
    global.superIndex = 0;
    if (move.superiors.length === 0) {
      arrSAN = [move.san];
      arrScore = [move.score];
    } else {
      arrSAN = move.superiorsSan.concat([move.san]);
      arrScore = move.scores.concat([move.score]);
    }
    ref = range(min(13, arrSAN.length));
    for (j = 0, len = ref.length; j < len; j++) {
      i = ref[j];
      ((i) => {
        var button, x, y;
        x = 9.4 * global.SIZE;
        y = 0.8 * global.SIZE * (i + 1.1);
        button = new Button(x, y, arrSAN[i], () => {
          return clickInteger(i);
        });
        button.bg = ['black', 'white'][global.index % 2];
        button.fg = ['white', 'black'][global.index % 2];
        button.align = LEFT;
        button.bar = f(arrScore, arrScore[i]);
        return global.buttons.push(button);
      })(i);
    }
    return global.buttons[0].drawStar = true;
  }
};

export var clickString = (key) => {
  param.String(key);
  if (key === 'flip') {
    return global.board.flip();
  } else if (key === 'first') {
    return setIndex(0);
  } else if (key === 'last') {
    return setIndex(global.moves.length);
  } else if (key === 'prev') {
    return setIndex(global.index - 1);
  } else if (key === 'next') {
    return setIndex(global.index + 1);
  } else if (key === 'link') {
    return window.open(data.link, '_blank');
  } else if (key === 'up') {
    return fixSuper(-1);
  } else if (key === 'down') {
    return fixSuper(1);
  } else if (key === 'pgup') {
    return pgup();
  } else if (key === 'pgdn') {
    return pgdn();
  } else {
    return console.log('unknown key in clickString', key);
  }
};

export var clickInteger = (ix) => {
  param.Integer(ix);
  //setIndex global.index
  //global.superIndex = key
  return global.board.move(ix); //global.superIndex
};

//fixSuper 0
export var fixSuper = (value) => {
  var uci;
  param.Test(value === (-1) || value === 0 || value === 1);
  global.superIndex = modulo(global.superIndex + value, getMove(global.index - 1).superiors.length + 1);
  if (global.superIndex === 0) {
    uci = getMove(global.index - 1).uci;
  } else {
    uci = getMove(global.index - 1).superiors[global.superIndex - 1];
  }
  return global.board.pieces = makeMove(uci, global.piecess[global.index - 1]);
};

export var getMove = (index) => {
  param.Test((-1 <= index && index <= global.moves.length));
  if (index === -1) {
    return param.Object({
      score: '',
      uci: '',
      san: '',
      superiors: [],
      superiorsSan: []
    });
  } else {
    return param.Object(global.moves[index]);
  }
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZ2xvYmFscy5qcyIsInNvdXJjZVJvb3QiOiIuLiIsInNvdXJjZXMiOlsiY29mZmVlXFxnbG9iYWxzLmNvZmZlZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsSUFBQSxDQUFBLEVBQUEsQ0FBQSxFQUFBLElBQUEsRUFBQSxJQUFBO0VBQUE7OztBQUFBLE9BQUEsSUFBTyxNQUFBLEdBQVM7RUFDZixPQUFBLEVBQVEsUUFETztFQUVmLEtBQUEsRUFBTSxJQUZTO0VBR2YsS0FBQSxFQUFNLENBSFM7RUFJZixJQUFBLEVBQUssRUFKVTtFQUtmLFFBQUEsRUFBUyxFQUxNO0VBTWYsSUFBQSxFQUFLLENBQUEsQ0FOVTtFQU9mLEtBQUEsRUFBTSxFQVBTO0VBUWYsSUFBQSxFQUFLLElBUlU7RUFTZixVQUFBLEVBQVcsQ0FUSTtFQVVmLE9BQUEsRUFBUSxFQVZPO0VBV2YsT0FBQSxFQUFRLEVBWE87RUFZZixPQUFBLEVBQVMsQ0FBQSxDQVpNO0VBYWYsUUFBQSxFQUFTO0FBYk07O0FBZ0JoQixPQUFBO0VBQVEsR0FBUjtFQUFZLEdBQVo7RUFBZ0IsS0FBaEI7RUFBc0IsS0FBdEI7RUFBNEIsS0FBNUI7Q0FBQSxNQUFBOztBQUNBLE9BQUE7RUFBUSxNQUFSO0NBQUEsTUFBQTs7QUFFQSxPQUFBLElBQU8sTUFBQSxHQUFTLENBQUMsR0FBRCxDQUFBLEdBQUE7QUFDaEIsTUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQTtFQUFDLEtBQUssQ0FBQyxNQUFOLENBQWEsR0FBYjtFQUNBLEVBQUEsR0FBSyxVQUFVLENBQUMsT0FBWCxDQUFtQixHQUFHLENBQUMsQ0FBRCxDQUF0QjtFQUNMLEVBQUEsR0FBSyxVQUFVLENBQUMsT0FBWCxDQUFtQixHQUFHLENBQUMsQ0FBRCxDQUF0QjtFQUNMLEVBQUEsR0FBSyxVQUFVLENBQUMsT0FBWCxDQUFtQixHQUFHLENBQUMsQ0FBRCxDQUF0QjtFQUNMLEVBQUEsR0FBSyxVQUFVLENBQUMsT0FBWCxDQUFtQixHQUFHLENBQUMsQ0FBRCxDQUF0QjtTQUNMLEtBQUssQ0FBQyxLQUFOLENBQVksQ0FBQyxFQUFBLEdBQUcsQ0FBQSxHQUFFLEVBQU4sRUFBVSxFQUFBLEdBQUcsQ0FBQSxHQUFFLEVBQWYsQ0FBWjtBQU5lOztBQU9oQixHQUFBLENBQUksQ0FBQyxDQUFELEVBQUcsRUFBSCxDQUFKLEVBQVksTUFBQSxDQUFPLE1BQVAsQ0FBWjs7QUFFQSxPQUFBLElBQU8sS0FBQSxHQUFRLENBQUMsQ0FBRCxDQUFBLEdBQUE7RUFDZCxLQUFLLENBQUMsT0FBTixDQUFjLENBQWQ7U0FDQSxLQUFLLENBQUMsTUFBTixDQUFhLENBQUMsQ0FBQSxjQUFFLElBQUcsRUFBTixDQUFRLENBQUMsUUFBVCxDQUFBLENBQWI7QUFGYzs7QUFJZixJQUFBLEdBQU8sQ0FBQSxDQUFBLEdBQUE7U0FBRyxRQUFBLENBQVMsQ0FBVDtBQUFIOztBQUNQLElBQUEsR0FBTyxDQUFBLENBQUEsR0FBQTtTQUFHLFFBQUEsQ0FBUyxDQUFDLENBQVY7QUFBSDs7QUFFUCxPQUFBLElBQU8sUUFBQSxHQUFXLENBQUMsS0FBRCxDQUFBLEdBQUE7QUFDbEIsTUFBQSxDQUFBLEVBQUEsSUFBQSxFQUFBLEdBQUEsRUFBQSxJQUFBLEVBQUE7RUFBQyxLQUFLLENBQUMsSUFBTixDQUFXLFdBQVUsQ0FBQyxNQUFYLFVBQWEsS0FBYixVQUFlLENBQTFCO0VBQ0EsTUFBTSxDQUFDLFFBQVAsVUFBbUIsTUFBTSxDQUFDLFFBQVAsR0FBZ0IsT0FBVSxDQUFDLENBQUMsSUFBRixDQUFPLE1BQU0sQ0FBQyxPQUFkO0VBRTdDLElBQUEsR0FBTyxDQUFDLENBQUMsSUFBRixDQUFPLE1BQU0sQ0FBQyxPQUFkO0VBQ1AsTUFBTSxDQUFDLFFBQVAsR0FBa0IsSUFBSSxDQUFDLE1BQU0sQ0FBQyxRQUFSO0VBQ3RCLE1BQU0sQ0FBQyxJQUFQLEdBQWMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLFFBQVIsQ0FBTDtFQUU1QixNQUFNLENBQUMsS0FBSyxDQUFDLEtBQWIsQ0FBQTtFQUVBLE1BQU0sQ0FBQyxLQUFQLEdBQWUsTUFBTSxDQUFDLElBQUksQ0FBQztFQUMzQixNQUFNLENBQUMsT0FBUCxHQUFpQjtFQUNqQixNQUFNLENBQUMsS0FBUCxHQUFlLENBQUMsQ0FBQyxHQUFGLENBQU0sTUFBTSxDQUFDLEtBQWIsRUFBb0IsQ0FBQyxJQUFELENBQUEsR0FBQTtBQUNwQyxRQUFBLEdBQUEsRUFBQSxLQUFBLEVBQUEsTUFBQSxFQUFBLFNBQUEsRUFBQSxZQUFBLEVBQUE7SUFBRSxLQUFBLEdBQVEsSUFBSSxDQUFDLENBQUQ7SUFDWixHQUFBLEdBQU0sSUFBSSxDQUFDLENBQUQ7SUFDVixZQUFBLEdBQWUsS0FBQSxDQUFNLElBQUksQ0FBQyxDQUFELENBQVY7SUFDZixHQUFBLEdBQU0sSUFBSSxDQUFDLENBQUQ7SUFDVixTQUFBLEdBQVksS0FBQSxDQUFNLElBQUksQ0FBQyxDQUFELENBQVY7SUFDWixNQUFBLEdBQVMsS0FBQSxDQUFNLElBQUksQ0FBQyxDQUFELENBQVY7SUFDVCxZQUFBLEdBQWUsWUFBWSxDQUFDLEtBQWIsQ0FBbUIsQ0FBbkIsRUFBcUIsRUFBckI7SUFDZixTQUFBLEdBQVksU0FBUyxDQUFDLEtBQVYsQ0FBZ0IsQ0FBaEIsRUFBa0IsRUFBbEI7V0FDWixDQUFDLEtBQUQsRUFBUSxHQUFSLEVBQWEsR0FBYixFQUFrQixTQUFsQixFQUE2QixZQUE3QixFQUEyQyxNQUEzQztFQVRrQyxDQUFwQjtFQVVmLE1BQU0sQ0FBQyxPQUFPLENBQUMsSUFBZixDQUFvQixNQUFNLENBQUMsS0FBSyxDQUFDLE1BQWpDO0FBRUE7RUFBQSxLQUFBLHFDQUFBOztJQUNDLE1BQU0sQ0FBQyxLQUFLLENBQUMsTUFBYixHQUFzQixRQUFBLENBQVMsSUFBSSxDQUFDLEdBQWQsRUFBbUIsQ0FBQyxDQUFDLElBQUYsQ0FBTyxNQUFNLENBQUMsT0FBZCxDQUFuQjtJQUN0QixNQUFNLENBQUMsT0FBTyxDQUFDLElBQWYsQ0FBb0IsTUFBTSxDQUFDLEtBQUssQ0FBQyxNQUFqQztFQUZEO1NBSUEsV0FBQSxDQUFZLE1BQVosRUE1QmlCO0FBQUE7O0FBOEJsQixPQUFBLElBQU8sUUFBQSxHQUFXLENBQUMsR0FBRCxFQUFLLE1BQUwsQ0FBQSxHQUFBO0FBQ2xCLE1BQUEsU0FBQSxFQUFBLGFBQUEsRUFBQSxJQUFBLEVBQUEsVUFBQSxFQUFBLE9BQUEsRUFBQSxJQUFBLEVBQUE7RUFBQyxLQUFLLENBQUMsTUFBTixDQUFhLEdBQWI7RUFDQSxLQUFLLENBQUMsTUFBTixDQUFhLE1BQWI7RUFFQSxJQUFBLEdBQU8sUUFBQSxDQUFDLENBQUQsRUFBRyxDQUFILEVBQUssQ0FBTCxFQUFPLENBQVAsQ0FBQTtJQUNOLEtBQUssQ0FBQyxPQUFOLENBQWMsQ0FBZDtJQUNBLEtBQUssQ0FBQyxPQUFOLENBQWMsQ0FBZDtJQUNBLEtBQUssQ0FBQyxPQUFOLENBQWMsQ0FBZDtJQUNBLEtBQUssQ0FBQyxPQUFOLENBQWMsQ0FBZDtXQUNBLENBQUMsTUFBTSxDQUFDLENBQUQsQ0FBUCxFQUFXLE1BQU0sQ0FBQyxDQUFELENBQWpCLEVBQXFCLE1BQU0sQ0FBQyxDQUFELENBQTNCLEVBQStCLE1BQU0sQ0FBQyxDQUFELENBQXJDLENBQUEsR0FBNEMsQ0FBQyxNQUFNLENBQUMsQ0FBRCxDQUFQLEVBQVcsTUFBTSxDQUFDLENBQUQsQ0FBakIsRUFBcUIsTUFBTSxDQUFDLENBQUQsQ0FBM0IsRUFBK0IsTUFBTSxDQUFDLENBQUQsQ0FBckM7RUFMdEM7RUFPUCxPQUFBLEdBQVUsUUFBQSxDQUFDLEdBQUQsRUFBSyxJQUFMLEVBQVUsRUFBVixDQUFBO0FBQ1gsUUFBQTtJQUFFLEtBQUssQ0FBQyxNQUFOLENBQWEsR0FBYjtJQUNBLEtBQUssQ0FBQyxPQUFOLENBQWMsSUFBZDtJQUNBLEtBQUssQ0FBQyxPQUFOLENBQWMsRUFBZDtJQUNBLFFBQUEsR0FBVyxHQUFHLENBQUMsQ0FBRDtJQUNkLGlCQUFTLEtBQUEsQ0FBTSxFQUFOLEVBQVMsRUFBVCxHQUFOLFFBQUg7TUFBMEIsUUFBQSxHQUFXLFFBQVEsQ0FBQyxXQUFULENBQUEsRUFBckM7O0lBQ0EsTUFBTSxDQUFDLEVBQUQsQ0FBTixHQUFhO1dBQ2IsTUFBTSxDQUFDLElBQUQsQ0FBTixHQUFlLEtBQUEsQ0FBTSxJQUFOO0VBUE47RUFTVixhQUFBLEdBQWdCLFFBQUEsQ0FBQyxJQUFELEVBQU0sRUFBTixDQUFBLEVBQUE7QUFDakIsUUFBQSxHQUFBLEVBQUEsSUFBQSxFQUFBLElBQUEsRUFBQTtJQUFFLEtBQUssQ0FBQyxPQUFOLENBQWMsSUFBZDtJQUNBLEtBQUssQ0FBQyxPQUFOLENBQWMsRUFBZDtJQUNBLEdBQUEsR0FBTTtJQUNOLFdBQUcsTUFBTSxDQUFDLElBQUQsZ0JBQVUsTUFBaEIsVUFBQSxJQUF5QixNQUFNLENBQUMsRUFBRCxDQUFOLEtBQWMsS0FBQSxDQUFNLEVBQU4sQ0FBMUM7TUFDQyxJQUFHLE1BQU0sQ0FBQyxJQUFELENBQU4sS0FBZ0IsR0FBaEIsSUFBd0IsTUFBTSxDQUFDLEVBQUEsR0FBRyxDQUFKLENBQU4sS0FBYyxHQUF0QyxhQUE4QyxJQUFBLEdBQU8sUUFBTyxLQUFkLFNBQWdCLEVBQWpFO1FBQXlFLEdBQUEsR0FBTSxLQUEvRTs7TUFDQSxJQUFHLE1BQU0sQ0FBQyxJQUFELENBQU4sS0FBZ0IsR0FBaEIsSUFBd0IsTUFBTSxDQUFDLEVBQUEsR0FBRyxDQUFKLENBQU4sS0FBYyxHQUF0QyxhQUE4QyxFQUFBLEdBQUssVUFBUyxLQUFkLFNBQWdCLEVBQWpFO1FBQXlFLEdBQUEsR0FBTSxLQUEvRTtPQUZEOztXQUdBLEtBQUssQ0FBQyxPQUFOLENBQWMsR0FBZDtFQVBlO0VBU2hCLFNBQUEsR0FBWSxRQUFBLENBQUMsSUFBRCxFQUFNLEVBQU4sQ0FBQTtJQUNYLEtBQUssQ0FBQyxPQUFOLENBQWMsSUFBZDtJQUNBLEtBQUssQ0FBQyxPQUFOLENBQWMsRUFBZDtJQUNBLElBQUcsTUFBTSxDQUFDLElBQUQsQ0FBTixLQUFnQixHQUFuQjtNQUE0QixNQUFNLENBQUMsRUFBQSxHQUFHLENBQUosQ0FBTixHQUFlLEtBQUEsQ0FBTSxFQUFBLEdBQUcsQ0FBVCxFQUEzQzs7SUFDQSxJQUFHLE1BQU0sQ0FBQyxJQUFELENBQU4sS0FBZ0IsR0FBbkI7TUFBNEIsTUFBTSxDQUFDLEVBQUEsR0FBRyxDQUFKLENBQU4sR0FBZSxLQUFBLENBQU0sRUFBQSxHQUFHLENBQVQsRUFBM0M7O0lBQ0EsTUFBTSxDQUFDLEVBQUQsQ0FBTixHQUFhLE1BQU0sQ0FBQyxJQUFEO1dBQ25CLE1BQU0sQ0FBQyxJQUFELENBQU4sR0FBZSxLQUFBLENBQU0sRUFBTjtFQU5KO0VBUVosVUFBQSxHQUFhLFFBQUEsQ0FBQyxJQUFELEVBQU0sRUFBTixDQUFBO0lBQ1osS0FBSyxDQUFDLE9BQU4sQ0FBYyxJQUFkO0lBQ0EsS0FBSyxDQUFDLE9BQU4sQ0FBYyxFQUFkO0lBQ0EsTUFBTSxDQUFDLEVBQUQsQ0FBTixHQUFhLE1BQU0sQ0FBQyxJQUFEO0lBQ25CLE1BQU0sQ0FBQyxJQUFELENBQU4sR0FBZSxLQUFBLENBQU0sSUFBTjtXQUNmLEtBQUssQ0FBQyxLQUFOLENBQVksTUFBWjtFQUxZO0VBT2IsTUFBQSxHQUFTLE1BQU0sQ0FBQyxLQUFQLENBQWEsRUFBYjtFQUVULENBQUMsSUFBRCxFQUFNLEVBQU4sQ0FBQSxHQUFZLE1BQUEsQ0FBTyxHQUFQO0VBQ1osSUFBRyxHQUFBLEtBQUssTUFBUjtJQUFvQixJQUFBLENBQUssQ0FBTCxFQUFPLENBQVAsRUFBUyxDQUFULEVBQVcsQ0FBWCxFQUFwQjtHQUFBLE1BQ0ssSUFBRyxHQUFBLEtBQUssTUFBUjtJQUFvQixJQUFBLENBQUssQ0FBTCxFQUFPLENBQVAsRUFBUyxDQUFULEVBQVcsQ0FBWCxFQUFwQjtHQUFBLE1BQ0EsSUFBRyxHQUFBLEtBQUssTUFBUjtJQUFvQixJQUFBLENBQUssRUFBTCxFQUFRLEVBQVIsRUFBVyxFQUFYLEVBQWMsRUFBZCxFQUFwQjtHQUFBLE1BQ0EsSUFBRyxHQUFBLEtBQUssTUFBUjtJQUFvQixJQUFBLENBQUssRUFBTCxFQUFRLEVBQVIsRUFBVyxFQUFYLEVBQWMsRUFBZCxFQUFwQjtHQUFBLE1BQ0EsSUFBRyxHQUFHLENBQUMsTUFBSixLQUFjLENBQWpCO0lBQXdCLE9BQUEsQ0FBUSxHQUFSLEVBQVksSUFBWixFQUFpQixFQUFqQixFQUF4QjtHQUFBLE1BQ0EsSUFBRyxhQUFBLENBQWMsSUFBZCxFQUFtQixFQUFuQixDQUFIO0lBQThCLFNBQUEsQ0FBVSxJQUFWLEVBQWUsRUFBZixFQUE5QjtHQUFBLE1BQUE7SUFDQSxVQUFBLENBQVcsSUFBWCxFQUFnQixFQUFoQixFQURBOztFQUVMLE1BQUEsR0FBUyxNQUFNLENBQUMsSUFBUCxDQUFZLEVBQVo7U0FDVDtBQXZEaUI7O0FBeURsQixHQUFBLENBQUksa0VBQUosRUFBd0UsUUFBQSxDQUFTLE1BQVQsRUFBaUIsa0VBQWpCLENBQXhFOztBQUNBLEdBQUEsQ0FBSSxrRUFBSixFQUF3RSxRQUFBLENBQVMsTUFBVCxFQUFpQixrRUFBakIsQ0FBeEU7O0FBQ0EsR0FBQSxDQUFJLGtFQUFKLEVBQXdFLFFBQUEsQ0FBUyxNQUFULEVBQWlCLGtFQUFqQixDQUF4RTs7QUFDQSxHQUFBLENBQUksa0VBQUosRUFBd0UsUUFBQSxDQUFTLE1BQVQsRUFBaUIsa0VBQWpCLENBQXhFOztBQUNBLEdBQUEsQ0FBSSxrRUFBSixFQUF3RSxRQUFBLENBQVMsTUFBVCxFQUFpQixrRUFBakIsQ0FBeEU7O0FBQ0EsR0FBQSxDQUFJLGtFQUFKLEVBQXdFLFFBQUEsQ0FBUyxPQUFULEVBQWlCLGtFQUFqQixDQUF4RTs7QUFDQSxHQUFBLENBQUksa0VBQUosRUFBd0UsUUFBQSxDQUFTLE9BQVQsRUFBaUIsa0VBQWpCLENBQXhFOztBQUNBLEdBQUEsQ0FBSSxrRUFBSixFQUF3RSxRQUFBLENBQVMsTUFBVCxFQUFpQixrRUFBakIsQ0FBeEU7O0FBQ0EsR0FBQSxDQUFJLGtFQUFKLEVBQXdFLFFBQUEsQ0FBUyxNQUFULEVBQWlCLGtFQUFqQixDQUF4RTs7QUFFQSxDQUFBLEdBQUksQ0FBQyxJQUFELENBQUEsR0FBQSxFQUFBOztFQUVILGlCQUFXLE1BQVIsVUFBSDtBQUFxQixXQUFPLENBQUMsS0FBN0I7O0VBQ0EsaUJBQVUsTUFBUCxTQUFIO0FBQW9CLFdBQU8sS0FBM0I7O1NBQ0EsS0FBSyxDQUFDLE9BQU4sQ0FBYyxRQUFBLENBQVMsSUFBVCxDQUFkO0FBSkc7O0FBTUosQ0FBQSxHQUFJLENBQUMsUUFBRCxFQUFVLENBQVYsQ0FBQSxHQUFBO0FBQ0osTUFBQSxDQUFBLEVBQUEsQ0FBQSxFQUFBO0VBQUMsS0FBSyxDQUFDLEtBQU4sQ0FBWSxRQUFaO0VBQ0EsS0FBSyxDQUFDLE1BQU4sQ0FBYSxDQUFiO0VBQ0EsUUFBQSxHQUFXLENBQUMsQ0FBQyxHQUFGLENBQU0sUUFBTixFQUFnQixDQUFDLElBQUQsQ0FBQSxHQUFBO1dBQVUsQ0FBQSxDQUFFLElBQUY7RUFBVixDQUFoQjtFQUNYLENBQUEsR0FBSSxDQUFDLENBQUMsR0FBRixDQUFNLFFBQU47RUFDSixDQUFBLEdBQUksQ0FBQyxDQUFDLEdBQUYsQ0FBTSxRQUFOO0VBQ0osQ0FBQSxHQUFJLENBQUEsQ0FBRSxDQUFGO0VBQ0osQ0FBQSxHQUFJLENBQUMsQ0FBQyxHQUFGLENBQU0sQ0FBQyxJQUFJLENBQUMsR0FBTCxDQUFTLENBQVQsQ0FBRCxFQUFhLElBQUksQ0FBQyxHQUFMLENBQVMsQ0FBVCxDQUFiLENBQU47RUFDSixDQUFBLEdBQUksQ0FBQztTQUNMLEtBQUssQ0FBQyxNQUFOLENBQWEsQ0FBQyxDQUFBLEdBQUUsQ0FBSCxDQUFBLEdBQU0sQ0FBQyxDQUFBLEdBQUUsQ0FBSCxDQUFuQjtBQVRHOztBQVVKLEdBQUEsQ0FBSSxDQUFKLEVBQU8sQ0FBQSxDQUFFLENBQUMsQ0FBQyxHQUFGLEVBQU0sRUFBTixDQUFGLEVBQVksTUFBWixDQUFQOztBQUNBLEdBQUEsQ0FBSSxJQUFKLEVBQVUsQ0FBQSxDQUFFLENBQUMsQ0FBQyxHQUFGLEVBQU0sRUFBTixDQUFGLEVBQVksSUFBWixDQUFWOztBQUNBLEdBQUEsQ0FBSSxDQUFKLEVBQU8sQ0FBQSxDQUFFLENBQUMsQ0FBQyxHQUFGLEVBQU0sRUFBTixDQUFGLEVBQVksS0FBWixDQUFQOztBQUVBLE9BQUEsSUFBTyxRQUFBLEdBQVUsQ0FBQyxLQUFELENBQUEsR0FBQTtBQUNqQixNQUFBLE1BQUEsRUFBQSxRQUFBLEVBQUEsQ0FBQSxFQUFBLENBQUEsRUFBQSxHQUFBLEVBQUEsSUFBQSxFQUFBO0VBQUMsS0FBSyxDQUFDLE9BQU4sQ0FBYyxLQUFkO0VBQ0EsSUFBRyxLQUFBLEdBQVEsQ0FBQyxDQUFULElBQWMsS0FBQSxHQUFRLE1BQU0sQ0FBQyxLQUFLLENBQUMsTUFBdEM7QUFBa0QsV0FBbEQ7O0VBQ0EsSUFBRyxLQUFBLEtBQVMsQ0FBQyxDQUFiO1dBQW9CLE1BQU0sQ0FBQyxLQUFLLENBQUMsS0FBYixDQUFBLEVBQXBCO0dBQUEsTUFBQTtJQUVDLE1BQU0sQ0FBQyxLQUFQLEdBQWU7SUFDZixNQUFNLENBQUMsT0FBUCxHQUFpQjtJQUNqQixNQUFNLENBQUMsS0FBSyxDQUFDLE1BQWIsR0FBc0IsTUFBTSxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsS0FBUjtJQUNwQyxJQUFHLE1BQU0sQ0FBQyxLQUFQLElBQWMsQ0FBakI7QUFBd0IsYUFBeEI7O0lBQ0EsSUFBQSxHQUFPLE1BQU0sQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLEtBQVAsR0FBYSxDQUFkO0lBQ25CLE1BQU0sQ0FBQyxVQUFQLEdBQW9CO0lBQ3BCLElBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxNQUFmLEtBQXlCLENBQTVCO01BQ0MsTUFBQSxHQUFTLENBQUMsSUFBSSxDQUFDLEdBQU47TUFDVCxRQUFBLEdBQVcsQ0FBQyxJQUFJLENBQUMsS0FBTixFQUZaO0tBQUEsTUFBQTtNQUlDLE1BQUEsR0FBUyxJQUFJLENBQUMsWUFBWSxDQUFDLE1BQWxCLENBQXlCLENBQUMsSUFBSSxDQUFDLEdBQU4sQ0FBekI7TUFDVCxRQUFBLEdBQVcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFaLENBQW1CLENBQUMsSUFBSSxDQUFDLEtBQU4sQ0FBbkIsRUFMWjs7QUFPQTtJQUFBLEtBQUEscUNBQUE7O01BQ0ksQ0FBQSxDQUFDLENBQUQsQ0FBQSxHQUFBO0FBQ04sWUFBQSxNQUFBLEVBQUEsQ0FBQSxFQUFBO1FBQUksQ0FBQSxHQUFJLEdBQUEsR0FBSSxNQUFNLENBQUM7UUFDZixDQUFBLEdBQUksR0FBQSxHQUFJLE1BQU0sQ0FBQyxJQUFYLEdBQWdCLENBQUMsQ0FBQSxHQUFFLEdBQUg7UUFDcEIsTUFBQSxHQUFTLElBQUksTUFBSixDQUFXLENBQVgsRUFBYSxDQUFiLEVBQWdCLE1BQU0sQ0FBQyxDQUFELENBQXRCLEVBQTJCLENBQUEsQ0FBQSxHQUFBO2lCQUFNLFlBQUEsQ0FBYSxDQUFiO1FBQU4sQ0FBM0I7UUFDVCxNQUFNLENBQUMsRUFBUCxHQUFZLENBQUMsT0FBRCxFQUFTLE9BQVQsQ0FBaUIsQ0FBQyxNQUFNLENBQUMsS0FBUCxHQUFhLENBQWQ7UUFDN0IsTUFBTSxDQUFDLEVBQVAsR0FBWSxDQUFDLE9BQUQsRUFBUyxPQUFULENBQWlCLENBQUMsTUFBTSxDQUFDLEtBQVAsR0FBYSxDQUFkO1FBQzdCLE1BQU0sQ0FBQyxLQUFQLEdBQWU7UUFDZixNQUFNLENBQUMsR0FBUCxHQUFhLENBQUEsQ0FBRSxRQUFGLEVBQVksUUFBUSxDQUFDLENBQUQsQ0FBcEI7ZUFDYixNQUFNLENBQUMsT0FBTyxDQUFDLElBQWYsQ0FBb0IsTUFBcEI7TUFSRSxDQUFBLEVBQUM7SUFETDtXQVVBLE1BQU0sQ0FBQyxPQUFPLENBQUMsQ0FBRCxDQUFHLENBQUMsUUFBbEIsR0FBNkIsS0F6QjlCOztBQUhnQjs7QUE4QmpCLE9BQUEsSUFBTyxXQUFBLEdBQWMsQ0FBQyxHQUFELENBQUEsR0FBQTtFQUNwQixLQUFLLENBQUMsTUFBTixDQUFhLEdBQWI7RUFDQSxJQUFHLEdBQUEsS0FBTyxNQUFWO1dBQXNCLE1BQU0sQ0FBQyxLQUFLLENBQUMsSUFBYixDQUFBLEVBQXRCO0dBQUEsTUFDSyxJQUFHLEdBQUEsS0FBTyxPQUFWO1dBQXVCLFFBQUEsQ0FBUyxDQUFULEVBQXZCO0dBQUEsTUFDQSxJQUFHLEdBQUEsS0FBTyxNQUFWO1dBQXNCLFFBQUEsQ0FBUyxNQUFNLENBQUMsS0FBSyxDQUFDLE1BQXRCLEVBQXRCO0dBQUEsTUFDQSxJQUFHLEdBQUEsS0FBTyxNQUFWO1dBQXNCLFFBQUEsQ0FBUyxNQUFNLENBQUMsS0FBUCxHQUFhLENBQXRCLEVBQXRCO0dBQUEsTUFDQSxJQUFHLEdBQUEsS0FBTyxNQUFWO1dBQXNCLFFBQUEsQ0FBUyxNQUFNLENBQUMsS0FBUCxHQUFhLENBQXRCLEVBQXRCO0dBQUEsTUFDQSxJQUFHLEdBQUEsS0FBTyxNQUFWO1dBQXNCLE1BQU0sQ0FBQyxJQUFQLENBQVksSUFBSSxDQUFDLElBQWpCLEVBQXVCLFFBQXZCLEVBQXRCO0dBQUEsTUFDQSxJQUFHLEdBQUEsS0FBTyxJQUFWO1dBQXNCLFFBQUEsQ0FBUyxDQUFDLENBQVYsRUFBdEI7R0FBQSxNQUNBLElBQUcsR0FBQSxLQUFPLE1BQVY7V0FBc0IsUUFBQSxDQUFTLENBQVQsRUFBdEI7R0FBQSxNQUNBLElBQUcsR0FBQSxLQUFPLE1BQVY7V0FBc0IsSUFBQSxDQUFBLEVBQXRCO0dBQUEsTUFDQSxJQUFHLEdBQUEsS0FBTyxNQUFWO1dBQXNCLElBQUEsQ0FBQSxFQUF0QjtHQUFBLE1BQUE7V0FDQSxPQUFPLENBQUMsR0FBUixDQUFZLDRCQUFaLEVBQXlDLEdBQXpDLEVBREE7O0FBWGU7O0FBY3JCLE9BQUEsSUFBTyxZQUFBLEdBQWUsQ0FBQyxFQUFELENBQUEsR0FBQTtFQUNyQixLQUFLLENBQUMsT0FBTixDQUFjLEVBQWQsRUFBRDs7O1NBR0MsTUFBTSxDQUFDLEtBQUssQ0FBQyxJQUFiLENBQWtCLEVBQWxCLEVBSnFCO0FBQUEsRUFwTXRCOzs7QUEyTUEsT0FBQSxJQUFPLFFBQUEsR0FBVyxDQUFDLEtBQUQsQ0FBQSxHQUFBO0FBQ2xCLE1BQUE7RUFBQyxLQUFLLENBQUMsSUFBTixDQUFXLFdBQVUsQ0FBQyxNQUFYLFVBQWEsS0FBYixVQUFlLENBQTFCO0VBQ0EsTUFBTSxDQUFDLFVBQVAsVUFBcUIsTUFBTSxDQUFDLFVBQVAsR0FBa0IsT0FBVyxPQUFBLENBQVEsTUFBTSxDQUFDLEtBQVAsR0FBYSxDQUFyQixDQUF1QixDQUFDLFNBQVMsQ0FBQyxNQUFsQyxHQUF5QztFQUMzRixJQUFHLE1BQU0sQ0FBQyxVQUFQLEtBQXFCLENBQXhCO0lBQStCLEdBQUEsR0FBTSxPQUFBLENBQVEsTUFBTSxDQUFDLEtBQVAsR0FBYSxDQUFyQixDQUF1QixDQUFDLElBQTdEO0dBQUEsTUFBQTtJQUNLLEdBQUEsR0FBTSxPQUFBLENBQVEsTUFBTSxDQUFDLEtBQVAsR0FBYSxDQUFyQixDQUF1QixDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsVUFBUCxHQUFrQixDQUFuQixFQUQ1Qzs7U0FFQSxNQUFNLENBQUMsS0FBSyxDQUFDLE1BQWIsR0FBc0IsUUFBQSxDQUFTLEdBQVQsRUFBYSxNQUFNLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxLQUFQLEdBQWEsQ0FBZCxDQUEzQjtBQUxMOztBQU9sQixPQUFBLElBQU8sT0FBQSxHQUFVLENBQUMsS0FBRCxDQUFBLEdBQUE7RUFDaEIsS0FBSyxDQUFDLElBQU4sQ0FBVyxDQUFBLENBQUMsQ0FBRCxJQUFNLEtBQU4sSUFBTSxLQUFOLElBQWUsTUFBTSxDQUFDLEtBQUssQ0FBQyxNQUE1QixDQUFYO0VBQ0EsSUFBRyxLQUFBLEtBQU8sQ0FBQyxDQUFYO1dBQ0MsS0FBSyxDQUFDLE1BQU4sQ0FBYTtNQUFDLEtBQUEsRUFBTSxFQUFQO01BQVcsR0FBQSxFQUFJLEVBQWY7TUFBbUIsR0FBQSxFQUFJLEVBQXZCO01BQTJCLFNBQUEsRUFBVSxFQUFyQztNQUF5QyxZQUFBLEVBQWE7SUFBdEQsQ0FBYixFQUREO0dBQUEsTUFBQTtXQUdDLEtBQUssQ0FBQyxNQUFOLENBQWEsTUFBTSxDQUFDLEtBQUssQ0FBQyxLQUFELENBQXpCLEVBSEQ7O0FBRmdCIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGdsb2JhbCA9IHtcclxuXHR2ZXJzaW9uOid2ZXI6IEEnLFxyXG5cdGJvYXJkOm51bGwsXHJcblx0aW5kZXg6MCxcclxuXHRTSVpFOjUwLFxyXG5cdGZpbGVuYW1lOlwiXCIsXHJcblx0cGljczp7fSxcclxuXHRtb3ZlczpbXSxcclxuXHRkYXRhOm51bGwsXHJcblx0c3VwZXJJbmRleDowLFxyXG5cdHBpZWNlc3M6W10sXHJcblx0YnV0dG9uczpbXSxcclxuXHRwYXJ0aWVyOiB7fSxcclxuXHRjdXJyR2FtZTowXHJcbn1cclxuXHJcbmltcG9ydCB7YXNzLGxvZyxyYW5nZSxzcGxpdCxwYXJhbX0gZnJvbSAnLi4vanMvdXRpbHMuanMnXHJcbmltcG9ydCB7QnV0dG9ufSBmcm9tICcuLi9qcy9idXR0b24uanMnXHJcblxyXG5leHBvcnQgY29vcmRzID0gKHVjaSkgPT5cclxuXHRwYXJhbS5TdHJpbmcgdWNpXHJcblx0YzAgPSBcImFiY2RlZmdoXCIuaW5kZXhPZiB1Y2lbMF1cclxuXHRyMCA9IFwiMTIzNDU2NzhcIi5pbmRleE9mIHVjaVsxXVxyXG5cdGMxID0gXCJhYmNkZWZnaFwiLmluZGV4T2YgdWNpWzJdXHJcblx0cjEgPSBcIjEyMzQ1Njc4XCIuaW5kZXhPZiB1Y2lbM11cclxuXHRwYXJhbS5BcnJheSBbYzArOCpyMCwgYzErOCpyMV1cclxuYXNzIFs4LDI0XSwgY29vcmRzIFwiYTJhNFwiXHJcblxyXG5leHBvcnQgZW1wdHkgPSAobikgPT5cclxuXHRwYXJhbS5JbnRlZ2VyIG5cclxuXHRwYXJhbS5TdHJpbmcgKDErbi8vOCkudG9TdHJpbmcoKVxyXG5cclxucGd1cCA9ID0+IGxvYWRHYW1lIDFcclxucGdkbiA9ID0+IGxvYWRHYW1lIC0xXHJcblxyXG5leHBvcnQgbG9hZEdhbWUgPSAoZGVsdGEpID0+XHJcblx0cGFyYW0uVGVzdCBkZWx0YSBpbiBbLTEsMCwxXVxyXG5cdGdsb2JhbC5jdXJyR2FtZSA9IChnbG9iYWwuY3VyckdhbWUrZGVsdGEpICUlIF8uc2l6ZSBnbG9iYWwucGFydGllclxyXG5cclxuXHRrZXlzID0gXy5rZXlzIGdsb2JhbC5wYXJ0aWVyXHJcblx0Z2xvYmFsLmZpbGVuYW1lID0ga2V5c1tnbG9iYWwuY3VyckdhbWVdXHJcblx0Z2xvYmFsLmRhdGEgPSBnbG9iYWwucGFydGllcltrZXlzW2dsb2JhbC5jdXJyR2FtZV1dXHJcblxyXG5cdGdsb2JhbC5ib2FyZC5zdGFydCgpXHJcblxyXG5cdGdsb2JhbC5tb3ZlcyA9IGdsb2JhbC5kYXRhLnBsaWVzXHJcblx0Z2xvYmFsLnBpZWNlc3MgPSBbXVxyXG5cdGdsb2JhbC5tb3ZlcyA9IF8ubWFwIGdsb2JhbC5tb3ZlcywgKG1vdmUpID0+XHJcblx0XHRzY29yZSA9IG1vdmVbMV1cclxuXHRcdHNhbiA9IG1vdmVbMl1cclxuXHRcdHN1cGVyaW9yc1NhbiA9IHNwbGl0IG1vdmVbM11cclxuXHRcdHVjaSA9IG1vdmVbNF1cclxuXHRcdHN1cGVyaW9ycyA9IHNwbGl0IG1vdmVbNV1cclxuXHRcdHNjb3JlcyA9IHNwbGl0IG1vdmVbNl1cclxuXHRcdHN1cGVyaW9yc1NhbiA9IHN1cGVyaW9yc1Nhbi5zbGljZSAwLDEyXHJcblx0XHRzdXBlcmlvcnMgPSBzdXBlcmlvcnMuc2xpY2UgMCwxMlxyXG5cdFx0e3Njb3JlLCB1Y2ksIHNhbiwgc3VwZXJpb3JzLCBzdXBlcmlvcnNTYW4sIHNjb3Jlc31cclxuXHRnbG9iYWwucGllY2Vzcy5wdXNoIGdsb2JhbC5ib2FyZC5waWVjZXNcclxuXHJcblx0Zm9yIG1vdmUgaW4gZ2xvYmFsLm1vdmVzXHJcblx0XHRnbG9iYWwuYm9hcmQucGllY2VzID0gbWFrZU1vdmUgbW92ZS51Y2ksIF8ubGFzdCBnbG9iYWwucGllY2Vzc1xyXG5cdFx0Z2xvYmFsLnBpZWNlc3MucHVzaCBnbG9iYWwuYm9hcmQucGllY2VzXHJcblxyXG5cdGNsaWNrU3RyaW5nICdsYXN0JyAjIHNsdXRzdMOkbGxuaW5nXHJcblxyXG5leHBvcnQgbWFrZU1vdmUgPSAodWNpLHBpZWNlcykgPT5cclxuXHRwYXJhbS5TdHJpbmcgdWNpXHJcblx0cGFyYW0uU3RyaW5nIHBpZWNlc1xyXG5cclxuXHRzd2FwID0gKGEsYixjLGQpIC0+XHJcblx0XHRwYXJhbS5JbnRlZ2VyIGFcclxuXHRcdHBhcmFtLkludGVnZXIgYlxyXG5cdFx0cGFyYW0uSW50ZWdlciBjXHJcblx0XHRwYXJhbS5JbnRlZ2VyIGRcclxuXHRcdFtwaWVjZXNbYV0scGllY2VzW2JdLHBpZWNlc1tjXSxwaWVjZXNbZF1dID0gW3BpZWNlc1tiXSxwaWVjZXNbYV0scGllY2VzW2RdLHBpZWNlc1tjXV1cclxuXHJcblx0cHJvbW90ZSA9ICh1Y2ksZnJvbSx0bykgLT5cclxuXHRcdHBhcmFtLlN0cmluZyB1Y2lcclxuXHRcdHBhcmFtLkludGVnZXIgZnJvbVxyXG5cdFx0cGFyYW0uSW50ZWdlciB0b1xyXG5cdFx0bmV3UGllY2UgPSB1Y2lbNF1cclxuXHRcdGlmIHRvIGluIHJhbmdlIDU2LDYzIHRoZW4gbmV3UGllY2UgPSBuZXdQaWVjZS50b1VwcGVyQ2FzZSgpXHJcblx0XHRwaWVjZXNbdG9dID0gbmV3UGllY2VcclxuXHRcdHBpZWNlc1tmcm9tXSA9IGVtcHR5IGZyb21cclxuXHJcblx0ZW5QYXNzYW50VHJ1ZSA9IChmcm9tLHRvKSAtPiAjIERlbm5hIGZ1bmt0aW9uIHNrYXBhZGVzIGF2IENvUGlsb3QuIE7DpHN0YW4ga29ycmVrdC5cclxuXHRcdHBhcmFtLkludGVnZXIgZnJvbVxyXG5cdFx0cGFyYW0uSW50ZWdlciB0b1xyXG5cdFx0cmVzID0gZmFsc2VcclxuXHRcdGlmIHBpZWNlc1tmcm9tXSBpbiAncFAnIGFuZCBwaWVjZXNbdG9dID09IGVtcHR5IHRvXHJcblx0XHRcdGlmIHBpZWNlc1tmcm9tXSA9PSAncCcgYW5kIHBpZWNlc1t0bys4XT09J1AnIGFuZCBmcm9tIC0gdG8gaW4gWzcsOV0gdGhlbiByZXMgPSB0cnVlICMgYmxhY2sgdGFrZXMgd2hpdGUgcGF3blxyXG5cdFx0XHRpZiBwaWVjZXNbZnJvbV0gPT0gJ1AnIGFuZCBwaWVjZXNbdG8tOF09PSdwJyBhbmQgdG8gLSBmcm9tIGluIFs3LDldIHRoZW4gcmVzID0gdHJ1ZSAjIHdoaXRlIHRha2VzIGJsYWNrIHBhd25cclxuXHRcdHBhcmFtLkJvb2xlYW4gcmVzXHJcblxyXG5cdGVuUGFzc2FudCA9IChmcm9tLHRvKSAtPlxyXG5cdFx0cGFyYW0uSW50ZWdlciBmcm9tXHJcblx0XHRwYXJhbS5JbnRlZ2VyIHRvXHJcblx0XHRpZiBwaWVjZXNbZnJvbV0gPT0gJ3AnIHRoZW4gcGllY2VzW3RvKzhdID0gZW1wdHkgdG8rOFxyXG5cdFx0aWYgcGllY2VzW2Zyb21dID09ICdQJyB0aGVuIHBpZWNlc1t0by04XSA9IGVtcHR5IHRvLThcclxuXHRcdHBpZWNlc1t0b10gPSBwaWVjZXNbZnJvbV1cclxuXHRcdHBpZWNlc1tmcm9tXSA9IGVtcHR5IHRvXHJcblxyXG5cdG5vcm1hbE1vdmUgPSAoZnJvbSx0bykgLT5cclxuXHRcdHBhcmFtLkludGVnZXIgZnJvbVxyXG5cdFx0cGFyYW0uSW50ZWdlciB0b1xyXG5cdFx0cGllY2VzW3RvXSA9IHBpZWNlc1tmcm9tXVxyXG5cdFx0cGllY2VzW2Zyb21dID0gZW1wdHkgZnJvbSBcclxuXHRcdHBhcmFtLkFycmF5IHBpZWNlc1xyXG5cclxuXHRwaWVjZXMgPSBwaWVjZXMuc3BsaXQgXCJcIlxyXG5cclxuXHRbZnJvbSx0b10gPSBjb29yZHMgdWNpXHJcblx0aWYgdWNpPT0nZTFnMScgdGhlbiBzd2FwIDQsNiw1LDcgIyBjYXN0bGluZ3NcclxuXHRlbHNlIGlmIHVjaT09J2UxYzEnIHRoZW4gc3dhcCA0LDIsMCwzXHJcblx0ZWxzZSBpZiB1Y2k9PSdlOGc4JyB0aGVuIHN3YXAgNjAsNjIsNjEsNjNcclxuXHRlbHNlIGlmIHVjaT09J2U4YzgnIHRoZW4gc3dhcCA1Niw1OSw1OCw2MFxyXG5cdGVsc2UgaWYgdWNpLmxlbmd0aCA9PSA1IHRoZW4gcHJvbW90ZSB1Y2ksZnJvbSx0b1xyXG5cdGVsc2UgaWYgZW5QYXNzYW50VHJ1ZSBmcm9tLHRvIHRoZW4gZW5QYXNzYW50IGZyb20sdG9cclxuXHRlbHNlIG5vcm1hbE1vdmUgZnJvbSx0b1xyXG5cdHBpZWNlcyA9IHBpZWNlcy5qb2luIFwiXCJcclxuXHRwaWVjZXNcclxuXHJcbmFzcyBcIlJOQlFLQk5SUFBQUDJQUFAzMzMzMzMzMzQ0NDRQNDQ0NTU1NTU1NTU2NjY2NjY2NnBwcHBwcHBwcm5icWtibnJcIiwgbWFrZU1vdmUgJ2UyZTQnLCBcIlJOQlFLQk5SUFBQUFBQUFAzMzMzMzMzMzQ0NDQ0NDQ0NTU1NTU1NTU2NjY2NjY2NnBwcHBwcHBwcm5icWtibnJcIlxyXG5hc3MgXCJSMTExMVJLMTIyMjIyMjIyMzMzMzMzMzM0NDQ0NDQ0NDU1NTU1NTU1NjY2NjY2NjY3Nzc3Nzc3N3I4ODhrODhyXCIsIG1ha2VNb3ZlICdlMWcxJywgXCJSMTExSzExUjIyMjIyMjIyMzMzMzMzMzM0NDQ0NDQ0NDU1NTU1NTU1NjY2NjY2NjY3Nzc3Nzc3N3I4ODhrODhyXCJcclxuYXNzIFwiMTFLUjExMVIyMjIyMjIyMjMzMzMzMzMzNDQ0NDQ0NDQ1NTU1NTU1NTY2NjY2NjY2Nzc3Nzc3NzdyODg4azg4clwiLCBtYWtlTW92ZSAnZTFjMScsIFwiUjExMUsxMVIyMjIyMjIyMjMzMzMzMzMzNDQ0NDQ0NDQ1NTU1NTU1NTY2NjY2NjY2Nzc3Nzc3NzdyODg4azg4clwiXHJcbmFzcyBcIlIxMTFLMTFSMjIyMjIyMjIzMzMzMzMzMzQ0NDQ0NDQ0NTU1NTU1NTU2NjY2NjY2Njc3Nzc3Nzc3cjg4ODhyazhcIiwgbWFrZU1vdmUgJ2U4ZzgnLCBcIlIxMTFLMTFSMjIyMjIyMjIzMzMzMzMzMzQ0NDQ0NDQ0NTU1NTU1NTU2NjY2NjY2Njc3Nzc3Nzc3cjg4OGs4OHJcIlxyXG5hc3MgXCJSMTExSzExUjIyMjIyMjIyMzMzMzMzMzM0NDQ0NDQ0NDU1NTU1NTU1NjY2NjY2NjY3Nzc3Nzc3Nzg4a3I4ODhyXCIsIG1ha2VNb3ZlICdlOGM4JywgXCJSMTExSzExUjIyMjIyMjIyMzMzMzMzMzM0NDQ0NDQ0NDU1NTU1NTU1NjY2NjY2NjY3Nzc3Nzc3N3I4ODhrODhyXCJcclxuYXNzIFwiUjExMUsxMVIyMjIyMjIyMjMzMzMzMzMzNDQ0NDQ0NDQ1NTU1NTU1NTY2NjY2NjY2Nzc3Nzc3NzdRODg4ODg4OFwiLCBtYWtlTW92ZSAnYTdhOHEnLFwiUjExMUsxMVIyMjIyMjIyMjMzMzMzMzMzNDQ0NDQ0NDQ1NTU1NTU1NTY2NjY2NjY2UDc3Nzc3Nzc4ODg4ODg4OFwiXHJcbmFzcyBcIjExMTFyMTExMjIyMjIyMjIzMzMzMzMzMzQ0NDQ0NDQ0NTU1NTU1NTU2NjY2NjY2Njc3Nzc3Nzc3ODg4ODg4ODhcIiwgbWFrZU1vdmUgJ2UyZTFyJyxcIjExMTExMTExMjIyMnAyMjIzMzMzMzMzMzQ0NDQ0NDQ0NTU1NTU1NTU2NjY2NjY2Njc3Nzc3Nzc3ODg4ODg4ODhcIlxyXG5hc3MgXCIxMTExMTExMTIyMjIyMjIyMzMzM3AzMzM0NDQ0NDQ0NDU1NTU1NTU1NjY2NjY2NjY3Nzc3Nzc3Nzg4ODg4ODg4XCIsIG1ha2VNb3ZlICdmNGUzJywgXCIxMTExMTExMTIyMjIyMjIyMzMzM1AzMzM0NDQ0NHA0NDU1NTU1NTU1NjY2NjY2NjY3Nzc3Nzc3Nzg4ODg4ODg4XCJcclxuYXNzICdSTkJRS0JOUjJQUFBQUFBQMzMzMzMzMzNQNDQ0NDQ0NDU1NTU1NTU1NjY2NjY2NjZwcHBwcHBwcHJuYnFrYm5yJywgbWFrZU1vdmUgJ2EyYTQnLCBcIlJOQlFLQk5SUFBQUFBQUFAzMzMzMzMzMzQ0NDQ0NDQ0NTU1NTU1NTU2NjY2NjY2NnBwcHBwcHBwcm5icWtibnJcIlxyXG5cclxuZyA9IChpdGVtKSA9PlxyXG5cdCMgcGFyYW0uSW50ZWdlciBpdGVtIG9yIHBhcmFtLlN0cmluZ1xyXG5cdGlmIFwiIy1cIiBpbiBpdGVtIHRoZW4gcmV0dXJuIC0xMDAwXHJcblx0aWYgXCIjXCIgaW4gaXRlbSB0aGVuIHJldHVybiAxMDAwXHJcblx0cGFyYW0uSW50ZWdlciBwYXJzZUludCBpdGVtXHJcblxyXG5mID0gKGFyclNjb3JlLGMpID0+XHJcblx0cGFyYW0uQXJyYXkgYXJyU2NvcmVcclxuXHRwYXJhbS5TdHJpbmcgY1xyXG5cdGFyclNjb3JlID0gXy5tYXAgYXJyU2NvcmUsIChpdGVtKSA9PiBnIGl0ZW1cclxuXHRhID0gXy5taW4gYXJyU2NvcmVcclxuXHRiID0gXy5tYXggYXJyU2NvcmVcclxuXHRjID0gZyBjXHJcblx0ZCA9IF8ubWF4IFtNYXRoLmFicyhhKSxNYXRoLmFicyhiKV1cclxuXHRhID0gLWRcclxuXHRwYXJhbS5OdW1iZXIgKGMtYSkvKDIqZClcclxuYXNzIDAsIGYgWy0xMDAsNTBdLCctMTAwJ1xyXG5hc3MgMC43NSwgZiBbLTEwMCw1MF0sJzUwJ1xyXG5hc3MgMSwgZiBbLTEwMCw1MF0sJzEwMCdcclxuXHJcbmV4cG9ydCBzZXRJbmRleCA9KHZhbHVlKSA9PlxyXG5cdHBhcmFtLkludGVnZXIgdmFsdWVcclxuXHRpZiB2YWx1ZSA8IC0xIG9yIHZhbHVlID4gZ2xvYmFsLm1vdmVzLmxlbmd0aCB0aGVuIHJldHVyblxyXG5cdGlmIHZhbHVlID09IC0xIHRoZW4gZ2xvYmFsLmJvYXJkLnN0YXJ0KClcclxuXHRlbHNlXHJcblx0XHRnbG9iYWwuaW5kZXggPSB2YWx1ZVxyXG5cdFx0Z2xvYmFsLmJ1dHRvbnMgPSBbXVxyXG5cdFx0Z2xvYmFsLmJvYXJkLnBpZWNlcyA9IGdsb2JhbC5waWVjZXNzW2dsb2JhbC5pbmRleF1cclxuXHRcdGlmIGdsb2JhbC5pbmRleDw9MCB0aGVuIHJldHVybiBcclxuXHRcdG1vdmUgPSBnbG9iYWwubW92ZXNbZ2xvYmFsLmluZGV4LTFdXHJcblx0XHRnbG9iYWwuc3VwZXJJbmRleCA9IDBcclxuXHRcdGlmIG1vdmUuc3VwZXJpb3JzLmxlbmd0aCA9PSAwXHJcblx0XHRcdGFyclNBTiA9IFttb3ZlLnNhbl1cclxuXHRcdFx0YXJyU2NvcmUgPSBbbW92ZS5zY29yZV1cclxuXHRcdGVsc2UgXHJcblx0XHRcdGFyclNBTiA9IG1vdmUuc3VwZXJpb3JzU2FuLmNvbmNhdCBbbW92ZS5zYW5dXHJcblx0XHRcdGFyclNjb3JlID0gbW92ZS5zY29yZXMuY29uY2F0IFttb3ZlLnNjb3JlXVxyXG5cclxuXHRcdGZvciBpIGluIHJhbmdlIG1pbiAxMywgYXJyU0FOLmxlbmd0aFxyXG5cdFx0XHRkbyAoaSkgPT5cclxuXHRcdFx0XHR4ID0gOS40Kmdsb2JhbC5TSVpFXHJcblx0XHRcdFx0eSA9IDAuOCpnbG9iYWwuU0laRSooaSsxLjEpXHJcblx0XHRcdFx0YnV0dG9uID0gbmV3IEJ1dHRvbiB4LHksIGFyclNBTltpXSwgKCkgPT4gY2xpY2tJbnRlZ2VyIGlcclxuXHRcdFx0XHRidXR0b24uYmcgPSBbJ2JsYWNrJywnd2hpdGUnXVtnbG9iYWwuaW5kZXglMl1cclxuXHRcdFx0XHRidXR0b24uZmcgPSBbJ3doaXRlJywnYmxhY2snXVtnbG9iYWwuaW5kZXglMl1cclxuXHRcdFx0XHRidXR0b24uYWxpZ24gPSBMRUZUXHJcblx0XHRcdFx0YnV0dG9uLmJhciA9IGYgYXJyU2NvcmUsIGFyclNjb3JlW2ldXHJcblx0XHRcdFx0Z2xvYmFsLmJ1dHRvbnMucHVzaCBidXR0b25cclxuXHRcdGdsb2JhbC5idXR0b25zWzBdLmRyYXdTdGFyID0gdHJ1ZVxyXG5cclxuZXhwb3J0IGNsaWNrU3RyaW5nID0gKGtleSkgPT5cclxuXHRwYXJhbS5TdHJpbmcga2V5XHJcblx0aWYga2V5ID09ICdmbGlwJyB0aGVuIGdsb2JhbC5ib2FyZC5mbGlwKClcclxuXHRlbHNlIGlmIGtleSA9PSAnZmlyc3QnIHRoZW4gc2V0SW5kZXggMFxyXG5cdGVsc2UgaWYga2V5ID09ICdsYXN0JyB0aGVuIHNldEluZGV4IGdsb2JhbC5tb3Zlcy5sZW5ndGhcclxuXHRlbHNlIGlmIGtleSA9PSAncHJldicgdGhlbiBzZXRJbmRleCBnbG9iYWwuaW5kZXgtMVxyXG5cdGVsc2UgaWYga2V5ID09ICduZXh0JyB0aGVuIHNldEluZGV4IGdsb2JhbC5pbmRleCsxXHJcblx0ZWxzZSBpZiBrZXkgPT0gJ2xpbmsnIHRoZW4gd2luZG93Lm9wZW4gZGF0YS5saW5rLCAnX2JsYW5rJ1xyXG5cdGVsc2UgaWYga2V5ID09ICd1cCcgICB0aGVuIGZpeFN1cGVyIC0xXHJcblx0ZWxzZSBpZiBrZXkgPT0gJ2Rvd24nIHRoZW4gZml4U3VwZXIgMVxyXG5cdGVsc2UgaWYga2V5ID09ICdwZ3VwJyB0aGVuIHBndXAoKVxyXG5cdGVsc2UgaWYga2V5ID09ICdwZ2RuJyB0aGVuIHBnZG4oKVxyXG5cdGVsc2UgY29uc29sZS5sb2cgJ3Vua25vd24ga2V5IGluIGNsaWNrU3RyaW5nJyxrZXlcclxuXHJcbmV4cG9ydCBjbGlja0ludGVnZXIgPSAoaXgpID0+XHJcblx0cGFyYW0uSW50ZWdlciBpeFxyXG5cdCNzZXRJbmRleCBnbG9iYWwuaW5kZXhcclxuXHQjZ2xvYmFsLnN1cGVySW5kZXggPSBrZXlcclxuXHRnbG9iYWwuYm9hcmQubW92ZSBpeCAjZ2xvYmFsLnN1cGVySW5kZXhcclxuXHQjZml4U3VwZXIgMFxyXG5cclxuZXhwb3J0IGZpeFN1cGVyID0gKHZhbHVlKSA9PlxyXG5cdHBhcmFtLlRlc3QgdmFsdWUgaW4gWy0xLDAsMV1cclxuXHRnbG9iYWwuc3VwZXJJbmRleCA9IChnbG9iYWwuc3VwZXJJbmRleCt2YWx1ZSkgJSUgKGdldE1vdmUoZ2xvYmFsLmluZGV4LTEpLnN1cGVyaW9ycy5sZW5ndGgrMSlcclxuXHRpZiBnbG9iYWwuc3VwZXJJbmRleCA9PSAwIHRoZW4gdWNpID0gZ2V0TW92ZShnbG9iYWwuaW5kZXgtMSkudWNpXHJcblx0ZWxzZSB1Y2kgPSBnZXRNb3ZlKGdsb2JhbC5pbmRleC0xKS5zdXBlcmlvcnNbZ2xvYmFsLnN1cGVySW5kZXgtMV1cclxuXHRnbG9iYWwuYm9hcmQucGllY2VzID0gbWFrZU1vdmUgdWNpLGdsb2JhbC5waWVjZXNzW2dsb2JhbC5pbmRleC0xXVxyXG5cclxuZXhwb3J0IGdldE1vdmUgPSAoaW5kZXgpID0+XHJcblx0cGFyYW0uVGVzdCAtMSA8PSBpbmRleCA8PSBnbG9iYWwubW92ZXMubGVuZ3RoXHJcblx0aWYgaW5kZXg9PS0xXHJcblx0XHRwYXJhbS5PYmplY3Qge3Njb3JlOicnLCB1Y2k6JycsIHNhbjonJywgc3VwZXJpb3JzOltdLCBzdXBlcmlvcnNTYW46W119XHJcblx0ZWxzZVxyXG5cdFx0cGFyYW0uT2JqZWN0IGdsb2JhbC5tb3Zlc1tpbmRleF1cclxuIl19
//# sourceURL=c:\github\2023-018-Python-Chess_Evaluate\coffee\globals.coffee