// Generated by CoffeeScript 2.5.1
var f, g,
  indexOf = [].indexOf,
  modulo = function(a, b) { return (+a % (b = +b) + b) % b; };

export var global = {
  board: null,
  index: 0,
  SIZE: 75,
  filename: "",
  pics: {},
  moves: [],
  data: null,
  superIndex: 0,
  piecess: [],
  buttons: []
};

import {
  ass,
  log,
  range
} from '../js/utils.js';

import {
  Button
} from '../js/button.js';

export var coords = (uci) => {
  var c0, c1, r0, r1;
  c0 = "abcdefgh".indexOf(uci[0]);
  r0 = "12345678".indexOf(uci[1]);
  c1 = "abcdefgh".indexOf(uci[2]);
  r1 = "12345678".indexOf(uci[3]);
  return [c0 + 8 * r0, c1 + 8 * r1];
};

ass([8, 24], coords("a2a4"));

export var empty = (n) => {
  return (1 + Math.floor(n / 8)).toString();
};

export var makeMove = (uci, pieces) => {
  var enPassant, enPassantTrue, from, normalMove, promote, swap, to;
  swap = function(a, b, c, d) {
    return [pieces[a], pieces[b], pieces[c], pieces[d]] = [pieces[b], pieces[a], pieces[d], pieces[c]];
  };
  promote = function(uci, from, to) {
    var newPiece;
    newPiece = uci[4];
    if (indexOf.call(range(56, 63), to) >= 0) {
      newPiece = newPiece.toUpperCase();
    }
    pieces[to] = newPiece;
    return pieces[from] = empty(from);
  };
  enPassantTrue = function(from, to) { // Denna funktion skapades av CoPilot. NÃ¤stan korrekt.
    var ref, ref1, ref2;
    if ((ref = pieces[from], indexOf.call('pP', ref) >= 0) && pieces[to] === empty(to)) {
      if (pieces[from] === 'p' && pieces[to + 8] === 'P' && ((ref1 = from - to) === 7 || ref1 === 9)) {
        return true; // black takes white pawn
      }
      if (pieces[from] === 'P' && pieces[to - 8] === 'p' && ((ref2 = to - from) === 7 || ref2 === 9)) {
        return true; // white takes black pawn
      }
    }
    return false;
  };
  enPassant = function(from, to) {
    if (pieces[from] === 'p') {
      pieces[to + 8] = empty(to + 8);
    }
    if (pieces[from] === 'P') {
      pieces[to - 8] = empty(to - 8);
    }
    pieces[to] = pieces[from];
    return pieces[from] = empty(to);
  };
  normalMove = function(from, to) {
    pieces[to] = pieces[from];
    pieces[from] = empty(from);
    return pieces;
  };
  pieces = pieces.split("");
  [from, to] = coords(uci);
  if (uci === 'e1g1') {
    swap(4, 6, 5, 7); // castlings
  } else if (uci === 'e1c1') {
    swap(4, 2, 0, 3);
  } else if (uci === 'e8g8') {
    swap(60, 62, 61, 63);
  } else if (uci === 'e8c8') {
    swap(56, 59, 58, 60);
  } else if (uci.length === 5) {
    promote(uci, from, to);
  } else if (enPassantTrue(from, to)) {
    enPassant(from, to);
  } else {
    normalMove(from, to);
  }
  pieces = pieces.join("");
  return pieces;
};

ass("RNBQKBNRPPPP2PPP333333334444P4445555555566666666pppppppprnbqkbnr", makeMove('e2e4', "RNBQKBNRPPPPPPPP33333333444444445555555566666666pppppppprnbqkbnr"));

ass("R1111RK1222222223333333344444444555555556666666677777777r888k88r", makeMove('e1g1', "R111K11R222222223333333344444444555555556666666677777777r888k88r"));

ass("11KR111R222222223333333344444444555555556666666677777777r888k88r", makeMove('e1c1', "R111K11R222222223333333344444444555555556666666677777777r888k88r"));

ass("R111K11R222222223333333344444444555555556666666677777777r8888rk8", makeMove('e8g8', "R111K11R222222223333333344444444555555556666666677777777r888k88r"));

ass("R111K11R22222222333333334444444455555555666666667777777788kr888r", makeMove('e8c8', "R111K11R222222223333333344444444555555556666666677777777r888k88r"));

ass("R111K11R222222223333333344444444555555556666666677777777Q8888888", makeMove('a7a8q', "R111K11R2222222233333333444444445555555566666666P777777788888888"));

ass("1111r11122222222333333334444444455555555666666667777777788888888", makeMove('e2e1r', "111111112222p222333333334444444455555555666666667777777788888888"));

ass("11111111222222223333p3334444444455555555666666667777777788888888", makeMove('f4e3', "11111111222222223333P33344444p4455555555666666667777777788888888"));

ass('RNBQKBNR2PPPPPPP33333333P44444445555555566666666pppppppprnbqkbnr', makeMove('a2a4', "RNBQKBNRPPPPPPPP33333333444444445555555566666666pppppppprnbqkbnr"));

g = (item) => {
  if (indexOf.call(item, "#-") >= 0) {
    return -1000;
  }
  if (indexOf.call(item, "#") >= 0) {
    return 1000;
  }
  return parseInt(item);
};

f = (arrScore, c) => {
  var a, b, d;
  arrScore = _.map(arrScore, (item) => {
    return g(item);
  });
  a = _.min(arrScore);
  b = _.max(arrScore);
  c = g(c);
  d = _.max([Math.abs(a), Math.abs(b)]);
  a = -d;
  return (c - a) / (2 * d);
};

ass(0, f([-100, 50], -100));

ass(0.75, f([-100, 50], 50));

ass(1, f([-100, 50], 100));

export var setIndex = (value) => {
  var arrSAN, arrScore, i, j, len, move, ref;
  if (value < -1 || value > global.moves.length) {
    return;
  }
  if (value === -1) {
    return global.board.start();
  } else {
    global.index = value;
    global.buttons = [];
    global.board.pieces = global.piecess[global.index];
    if (global.index <= 0) {
      return;
    }
    move = global.moves[global.index - 1];
    global.superIndex = 0;
    if (move.superiors.length === 0) {
      arrSAN = [move.san];
      arrScore = [move.score];
    } else {
      arrSAN = move.superiorsSan.concat([move.san]);
      arrScore = move.scores.concat([move.score]);
    }
    ref = range(min(13, arrSAN.length));
    for (j = 0, len = ref.length; j < len; j++) {
      i = ref[j];
      ((i) => {
        var button, x, y;
        x = 9.4 * global.SIZE;
        y = 0.8 * global.SIZE * (i + 1.1);
        button = new Button(x, y, arrSAN[i], () => {
          return click(i);
        });
        button.bg = ['black', 'white'][global.index % 2];
        button.fg = ['white', 'black'][global.index % 2];
        button.align = LEFT;
        button.bar = f(arrScore, arrScore[i]);
        return global.buttons.push(button);
      })(i);
    }
    return global.buttons[0].drawStar = true;
  }
};

export var click = (key) => {
  if (key === 'flip') {
    return global.board.flip();
  } else if (key === 'first') {
    return setIndex(0);
  } else if (key === 'last') {
    return setIndex(global.moves.length);
  } else if (key === 'prev') {
    return setIndex(global.index - 1);
  } else if (key === 'next') {
    return setIndex(global.index + 1);
  } else if (key === 'link') {
    return window.open(data.link, '_blank');
  } else if (key === 'up') {
    return fixSuper(-1);
  } else if (key === 'down') {
    return fixSuper(1);
  } else {
    setIndex(global.index);
    return global.board.move(key);
  }
};

export var fixSuper = (value) => {
  var uci;
  global.superIndex = modulo(global.superIndex + value, getMove(global.index - 1).superiors.length + 1);
  if (global.superIndex === 0) {
    uci = getMove(global.index - 1).uci;
  } else {
    uci = getMove(global.index - 1).superiors[global.superIndex - 1];
  }
  return global.board.pieces = makeMove(uci, global.piecess[global.index - 1]);
};

export var getMove = (index) => {
  if (index === -1) {
    return {
      score: '',
      uci: '',
      san: '',
      superiors: [],
      superiorsSan: []
    };
  } else {
    return global.moves[index];
  }
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZ2xvYmFscy5qcyIsInNvdXJjZVJvb3QiOiIuLiIsInNvdXJjZXMiOlsiY29mZmVlXFxnbG9iYWxzLmNvZmZlZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsSUFBQSxDQUFBLEVBQUEsQ0FBQTtFQUFBOzs7QUFBQSxPQUFBLElBQU8sTUFBQSxHQUFTO0VBQ2YsS0FBQSxFQUFNLElBRFM7RUFFZixLQUFBLEVBQU0sQ0FGUztFQUdmLElBQUEsRUFBSyxFQUhVO0VBSWYsUUFBQSxFQUFTLEVBSk07RUFLZixJQUFBLEVBQUssQ0FBQSxDQUxVO0VBTWYsS0FBQSxFQUFNLEVBTlM7RUFPZixJQUFBLEVBQUssSUFQVTtFQVFmLFVBQUEsRUFBVyxDQVJJO0VBU2YsT0FBQSxFQUFRLEVBVE87RUFVZixPQUFBLEVBQVE7QUFWTzs7QUFhaEIsT0FBQTtFQUFRLEdBQVI7RUFBWSxHQUFaO0VBQWdCLEtBQWhCO0NBQUEsTUFBQTs7QUFDQSxPQUFBO0VBQVEsTUFBUjtDQUFBLE1BQUE7O0FBRUEsT0FBQSxJQUFPLE1BQUEsR0FBUyxDQUFDLEdBQUQsQ0FBQSxHQUFBO0FBQ2hCLE1BQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUE7RUFBQyxFQUFBLEdBQUssVUFBVSxDQUFDLE9BQVgsQ0FBbUIsR0FBRyxDQUFDLENBQUQsQ0FBdEI7RUFDTCxFQUFBLEdBQUssVUFBVSxDQUFDLE9BQVgsQ0FBbUIsR0FBRyxDQUFDLENBQUQsQ0FBdEI7RUFDTCxFQUFBLEdBQUssVUFBVSxDQUFDLE9BQVgsQ0FBbUIsR0FBRyxDQUFDLENBQUQsQ0FBdEI7RUFDTCxFQUFBLEdBQUssVUFBVSxDQUFDLE9BQVgsQ0FBbUIsR0FBRyxDQUFDLENBQUQsQ0FBdEI7U0FDTCxDQUFDLEVBQUEsR0FBRyxDQUFBLEdBQUUsRUFBTixFQUFVLEVBQUEsR0FBRyxDQUFBLEdBQUUsRUFBZjtBQUxlOztBQU1oQixHQUFBLENBQUksQ0FBQyxDQUFELEVBQUcsRUFBSCxDQUFKLEVBQVksTUFBQSxDQUFP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QWEsQ0FBckIsQ0FBdUIsQ0FBQyxTQUFTLENBQUMsTUFBbEMsR0FBeUM7RUFDM0YsSUFBRyxNQUFNLENBQUMsVUFBUCxLQUFxQixDQUF4QjtJQUErQixHQUFBLEdBQU0sT0FBQSxDQUFRLE1BQU0sQ0FBQyxLQUFQLEdBQWEsQ0FBckIsQ0FBdUIsQ0FBQyxJQUE3RDtHQUFBLE1BQUE7SUFDSyxHQUFBLEdBQU0sT0FBQSxDQUFRLE1BQU0sQ0FBQyxLQUFQLEdBQWEsQ0FBckIsQ0FBdUIsQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLFVBQVAsR0FBa0IsQ0FBbkIsRUFENUM7O1NBRUEsTUFBTSxDQUFDLEtBQUssQ0FBQyxNQUFiLEdBQXNCLFFBQUEsQ0FBUyxHQUFULEVBQWEsTUFBTSxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsS0FBUCxHQUFhLENBQWQsQ0FBM0I7QUFKTDs7QUFNbEIsT0FBQSxJQUFPLE9BQUEsR0FBVSxDQUFDLEtBQUQsQ0FBQSxHQUFBO0VBQ2hCLElBQUcsS0FBQSxLQUFPLENBQUMsQ0FBWDtXQUNDO01BQUMsS0FBQSxFQUFNLEVBQVA7TUFBVyxHQUFBLEVBQUksRUFBZjtNQUFtQixHQUFBLEVBQUksRUFBdkI7TUFBMkIsU0FBQSxFQUFVLEVBQXJDO01BQXlDLFlBQUEsRUFBYTtJQUF0RCxFQUREO0dBQUEsTUFBQTtXQUdDLE1BQU0sQ0FBQyxLQUFLLENBQUMsS0FBRCxFQUhiOztBQURnQiIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBnbG9iYWwgPSB7XHJcblx0Ym9hcmQ6bnVsbCxcclxuXHRpbmRleDowLFxyXG5cdFNJWkU6NzUsXHJcblx0ZmlsZW5hbWU6XCJcIixcclxuXHRwaWNzOnt9LFxyXG5cdG1vdmVzOltdLFxyXG5cdGRhdGE6bnVsbCxcclxuXHRzdXBlckluZGV4OjAsXHJcblx0cGllY2VzczpbXSxcclxuXHRidXR0b25zOltdXHJcbn1cclxuXHJcbmltcG9ydCB7YXNzLGxvZyxyYW5nZX0gZnJvbSAnLi4vanMvdXRpbHMuanMnXHJcbmltcG9ydCB7QnV0dG9ufSBmcm9tICcuLi9qcy9idXR0b24uanMnXHJcblxyXG5leHBvcnQgY29vcmRzID0gKHVjaSkgPT5cclxuXHRjMCA9IFwiYWJjZGVmZ2hcIi5pbmRleE9mIHVjaVswXVxyXG5cdHIwID0gXCIxMjM0NTY3OFwiLmluZGV4T2YgdWNpWzFdXHJcblx0YzEgPSBcImFiY2RlZmdoXCIuaW5kZXhPZiB1Y2lbMl1cclxuXHRyMSA9IFwiMTIzNDU2NzhcIi5pbmRleE9mIHVjaVszXVxyXG5cdFtjMCs4KnIwLCBjMSs4KnIxXVxyXG5hc3MgWzgsMjRdLCBjb29yZHMgXCJhMmE0XCJcclxuXHJcbmV4cG9ydCBlbXB0eSA9IChuKSA9PiAoMStuLy84KS50b1N0cmluZygpXHJcblxyXG5leHBvcnQgbWFrZU1vdmUgPSAodWNpLHBpZWNlcykgPT5cclxuXHJcblx0c3dhcCA9IChhLGIsYyxkKSAtPlxyXG5cdFx0W3BpZWNlc1thXSxwaWVjZXNbYl0scGllY2VzW2NdLHBpZWNlc1tkXV0gPSBbcGllY2VzW2JdLHBpZWNlc1thXSxwaWVjZXNbZF0scGllY2VzW2NdXVxyXG5cclxuXHRwcm9tb3RlID0gKHVjaSxmcm9tLHRvKSAtPlxyXG5cdFx0bmV3UGllY2UgPSB1Y2lbNF1cclxuXHRcdGlmIHRvIGluIHJhbmdlIDU2LDYzIHRoZW4gbmV3UGllY2UgPSBuZXdQaWVjZS50b1VwcGVyQ2FzZSgpXHJcblx0XHRwaWVjZXNbdG9dID0gbmV3UGllY2VcclxuXHRcdHBpZWNlc1tmcm9tXSA9IGVtcHR5IGZyb21cclxuXHJcblx0ZW5QYXNzYW50VHJ1ZSA9IChmcm9tLHRvKSAtPiAjIERlbm5hIGZ1bmt0aW9uIHNrYXBhZGVzIGF2IENvUGlsb3QuIE7DpHN0YW4ga29ycmVrdC5cclxuXHRcdGlmIHBpZWNlc1tmcm9tXSBpbiAncFAnIGFuZCBwaWVjZXNbdG9dID09IGVtcHR5IHRvXHJcblx0XHRcdGlmIHBpZWNlc1tmcm9tXSA9PSAncCcgYW5kIHBpZWNlc1t0bys4XT09J1AnIGFuZCBmcm9tIC0gdG8gaW4gWzcsOV0gdGhlbiByZXR1cm4gdHJ1ZSAjIGJsYWNrIHRha2VzIHdoaXRlIHBhd25cclxuXHRcdFx0aWYgcGllY2VzW2Zyb21dID09ICdQJyBhbmQgcGllY2VzW3RvLThdPT0ncCcgYW5kIHRvIC0gZnJvbSBpbiBbNyw5XSB0aGVuIHJldHVybiB0cnVlICMgd2hpdGUgdGFrZXMgYmxhY2sgcGF3blxyXG5cdFx0cmV0dXJuIGZhbHNlXHJcblxyXG5cdGVuUGFzc2FudCA9IChmcm9tLHRvKSAtPlxyXG5cdFx0aWYgcGllY2VzW2Zyb21dID09ICdwJyB0aGVuIHBpZWNlc1t0bys4XSA9IGVtcHR5IHRvKzhcclxuXHRcdGlmIHBpZWNlc1tmcm9tXSA9PSAnUCcgdGhlbiBwaWVjZXNbdG8tOF0gPSBlbXB0eSB0by04XHJcblx0XHRwaWVjZXNbdG9dID0gcGllY2VzW2Zyb21dXHJcblx0XHRwaWVjZXNbZnJvbV0gPSBlbXB0eSB0b1xyXG5cclxuXHRub3JtYWxNb3ZlID0gKGZyb20sdG8pIC0+XHJcblx0XHRwaWVjZXNbdG9dID0gcGllY2VzW2Zyb21dXHJcblx0XHRwaWVjZXNbZnJvbV0gPSBlbXB0eSBmcm9tIFxyXG5cdFx0cGllY2VzXHJcblxyXG5cdHBpZWNlcyA9IHBpZWNlcy5zcGxpdCBcIlwiXHJcblxyXG5cdFtmcm9tLHRvXSA9IGNvb3JkcyB1Y2lcclxuXHRpZiB1Y2k9PSdlMWcxJyB0aGVuIHN3YXAgNCw2LDUsNyAjIGNhc3RsaW5nc1xyXG5cdGVsc2UgaWYgdWNpPT0nZTFjMScgdGhlbiBzd2FwIDQsMiwwLDNcclxuXHRlbHNlIGlmIHVjaT09J2U4ZzgnIHRoZW4gc3dhcCA2MCw2Miw2MSw2M1xyXG5cdGVsc2UgaWYgdWNpPT0nZThjOCcgdGhlbiBzd2FwIDU2LDU5LDU4LDYwXHJcblx0ZWxzZSBpZiB1Y2kubGVuZ3RoID09IDUgdGhlbiBwcm9tb3RlIHVjaSxmcm9tLHRvXHJcblx0ZWxzZSBpZiBlblBhc3NhbnRUcnVlIGZyb20sdG8gdGhlbiBlblBhc3NhbnQgZnJvbSx0b1xyXG5cdGVsc2Ugbm9ybWFsTW92ZSBmcm9tLHRvXHJcblx0cGllY2VzID0gcGllY2VzLmpvaW4gXCJcIlxyXG5cdHBpZWNlc1xyXG5cclxuYXNzIFwiUk5CUUtCTlJQUFBQMlBQUDMzMzMzMzMzNDQ0NFA0NDQ1NTU1NTU1NTY2NjY2NjY2cHBwcHBwcHBybmJxa2JuclwiLCBtYWtlTW92ZSAnZTJlNCcsIFwiUk5CUUtCTlJQUFBQUFBQUDMzMzMzMzMzNDQ0NDQ0NDQ1NTU1NTU1NTY2NjY2NjY2cHBwcHBwcHBybmJxa2JuclwiXHJcbmFzcyBcIlIxMTExUksxMjIyMjIyMjIzMzMzMzMzMzQ0NDQ0NDQ0NTU1NTU1NTU2NjY2NjY2Njc3Nzc3Nzc3cjg4OGs4OHJcIiwgbWFrZU1vdmUgJ2UxZzEnLCBcIlIxMTFLMTFSMjIyMjIyMjIzMzMzMzMzMzQ0NDQ0NDQ0NTU1NTU1NTU2NjY2NjY2Njc3Nzc3Nzc3cjg4OGs4OHJcIlxyXG5hc3MgXCIxMUtSMTExUjIyMjIyMjIyMzMzMzMzMzM0NDQ0NDQ0NDU1NTU1NTU1NjY2NjY2NjY3Nzc3Nzc3N3I4ODhrODhyXCIsIG1ha2VNb3ZlICdlMWMxJywgXCJSMTExSzExUjIyMjIyMjIyMzMzMzMzMzM0NDQ0NDQ0NDU1NTU1NTU1NjY2NjY2NjY3Nzc3Nzc3N3I4ODhrODhyXCJcclxuYXNzIFwiUjExMUsxMVIyMjIyMjIyMjMzMzMzMzMzNDQ0NDQ0NDQ1NTU1NTU1NTY2NjY2NjY2Nzc3Nzc3NzdyODg4OHJrOFwiLCBtYWtlTW92ZSAnZThnOCcsIFwiUjExMUsxMVIyMjIyMjIyMjMzMzMzMzMzNDQ0NDQ0NDQ1NTU1NTU1NTY2NjY2NjY2Nzc3Nzc3NzdyODg4azg4clwiXHJcbmFzcyBcIlIxMTFLMTFSMjIyMjIyMjIzMzMzMzMzMzQ0NDQ0NDQ0NTU1NTU1NTU2NjY2NjY2Njc3Nzc3Nzc3ODhrcjg4OHJcIiwgbWFrZU1vdmUgJ2U4YzgnLCBcIlIxMTFLMTFSMjIyMjIyMjIzMzMzMzMzMzQ0NDQ0NDQ0NTU1NTU1NTU2NjY2NjY2Njc3Nzc3Nzc3cjg4OGs4OHJcIlxyXG5hc3MgXCJSMTExSzExUjIyMjIyMjIyMzMzMzMzMzM0NDQ0NDQ0NDU1NTU1NTU1NjY2NjY2NjY3Nzc3Nzc3N1E4ODg4ODg4XCIsIG1ha2VNb3ZlICdhN2E4cScsXCJSMTExSzExUjIyMjIyMjIyMzMzMzMzMzM0NDQ0NDQ0NDU1NTU1NTU1NjY2NjY2NjZQNzc3Nzc3Nzg4ODg4ODg4XCJcclxuYXNzIFwiMTExMXIxMTEyMjIyMjIyMjMzMzMzMzMzNDQ0NDQ0NDQ1NTU1NTU1NTY2NjY2NjY2Nzc3Nzc3Nzc4ODg4ODg4OFwiLCBtYWtlTW92ZSAnZTJlMXInLFwiMTExMTExMTEyMjIycDIyMjMzMzMzMzMzNDQ0NDQ0NDQ1NTU1NTU1NTY2NjY2NjY2Nzc3Nzc3Nzc4ODg4ODg4OFwiXHJcbmFzcyBcIjExMTExMTExMjIyMjIyMjIzMzMzcDMzMzQ0NDQ0NDQ0NTU1NTU1NTU2NjY2NjY2Njc3Nzc3Nzc3ODg4ODg4ODhcIiwgbWFrZU1vdmUgJ2Y0ZTMnLCBcIjExMTExMTExMjIyMjIyMjIzMzMzUDMzMzQ0NDQ0cDQ0NTU1NTU1NTU2NjY2NjY2Njc3Nzc3Nzc3ODg4ODg4ODhcIlxyXG5hc3MgJ1JOQlFLQk5SMlBQUFBQUFAzMzMzMzMzM1A0NDQ0NDQ0NTU1NTU1NTU2NjY2NjY2NnBwcHBwcHBwcm5icWtibnInLCBtYWtlTW92ZSAnYTJhNCcsIFwiUk5CUUtCTlJQUFBQUFBQUDMzMzMzMzMzNDQ0NDQ0NDQ1NTU1NTU1NTY2NjY2NjY2cHBwcHBwcHBybmJxa2JuclwiXHJcblxyXG5nID0gKGl0ZW0pID0+XHJcblx0aWYgXCIjLVwiIGluIGl0ZW0gdGhlbiByZXR1cm4gLTEwMDBcclxuXHRpZiBcIiNcIiBpbiBpdGVtIHRoZW4gcmV0dXJuIDEwMDBcclxuXHRwYXJzZUludCBpdGVtXHJcblxyXG5mID0gKGFyclNjb3JlLGMpID0+XHJcblx0YXJyU2NvcmUgPSBfLm1hcCBhcnJTY29yZSwgKGl0ZW0pID0+IGcgaXRlbVxyXG5cdGEgPSBfLm1pbiBhcnJTY29yZVxyXG5cdGIgPSBfLm1heCBhcnJTY29yZVxyXG5cdGMgPSBnIGNcclxuXHRkID0gXy5tYXggW01hdGguYWJzKGEpLE1hdGguYWJzKGIpXVxyXG5cdGEgPSAtZFxyXG5cdChjLWEpLygyKmQpXHJcbmFzcyAwLCBmIFstMTAwLDUwXSwtMTAwXHJcbmFzcyAwLjc1LCBmIFstMTAwLDUwXSw1MFxyXG5hc3MgMSwgZiBbLTEwMCw1MF0sMTAwXHJcblxyXG5leHBvcnQgc2V0SW5kZXggPSh2YWx1ZSkgPT5cclxuXHRpZiB2YWx1ZSA8IC0xIG9yIHZhbHVlID4gZ2xvYmFsLm1vdmVzLmxlbmd0aCB0aGVuIHJldHVyblxyXG5cdGlmIHZhbHVlID09IC0xIHRoZW4gZ2xvYmFsLmJvYXJkLnN0YXJ0KClcclxuXHRlbHNlXHJcblx0XHRnbG9iYWwuaW5kZXggPSB2YWx1ZVxyXG5cdFx0Z2xvYmFsLmJ1dHRvbnMgPSBbXVxyXG5cdFx0Z2xvYmFsLmJvYXJkLnBpZWNlcyA9IGdsb2JhbC5waWVjZXNzW2dsb2JhbC5pbmRleF1cclxuXHRcdGlmIGdsb2JhbC5pbmRleDw9MCB0aGVuIHJldHVybiBcclxuXHRcdG1vdmUgPSBnbG9iYWwubW92ZXNbZ2xvYmFsLmluZGV4LTFdXHJcblx0XHRnbG9iYWwuc3VwZXJJbmRleCA9IDBcclxuXHRcdGlmIG1vdmUuc3VwZXJpb3JzLmxlbmd0aCA9PSAwXHJcblx0XHRcdGFyclNBTiA9IFttb3ZlLnNhbl1cclxuXHRcdFx0YXJyU2NvcmUgPSBbbW92ZS5zY29yZV1cclxuXHRcdGVsc2UgXHJcblx0XHRcdGFyclNBTiA9IG1vdmUuc3VwZXJpb3JzU2FuLmNvbmNhdCBbbW92ZS5zYW5dXHJcblx0XHRcdGFyclNjb3JlID0gbW92ZS5zY29yZXMuY29uY2F0IFttb3ZlLnNjb3JlXVxyXG5cclxuXHRcdGZvciBpIGluIHJhbmdlIG1pbiAxMywgYXJyU0FOLmxlbmd0aFxyXG5cdFx0XHRkbyAoaSkgPT5cclxuXHRcdFx0XHR4ID0gOS40Kmdsb2JhbC5TSVpFXHJcblx0XHRcdFx0eSA9IDAuOCpnbG9iYWwuU0laRSooaSsxLjEpXHJcblx0XHRcdFx0YnV0dG9uID0gbmV3IEJ1dHRvbiB4LHksIGFyclNBTltpXSwgKCkgPT4gY2xpY2sgaVxyXG5cdFx0XHRcdGJ1dHRvbi5iZyA9IFsnYmxhY2snLCd3aGl0ZSddW2dsb2JhbC5pbmRleCUyXVxyXG5cdFx0XHRcdGJ1dHRvbi5mZyA9IFsnd2hpdGUnLCdibGFjayddW2dsb2JhbC5pbmRleCUyXVxyXG5cdFx0XHRcdGJ1dHRvbi5hbGlnbiA9IExFRlRcclxuXHRcdFx0XHRidXR0b24uYmFyID0gZiBhcnJTY29yZSwgYXJyU2NvcmVbaV1cclxuXHRcdFx0XHRnbG9iYWwuYnV0dG9ucy5wdXNoIGJ1dHRvblxyXG5cdFx0Z2xvYmFsLmJ1dHRvbnNbMF0uZHJhd1N0YXIgPSB0cnVlXHJcblxyXG5leHBvcnQgY2xpY2sgPSAoa2V5KSA9PlxyXG5cdGlmIGtleSA9PSAnZmxpcCcgdGhlbiBnbG9iYWwuYm9hcmQuZmxpcCgpXHJcblx0ZWxzZSBpZiBrZXkgPT0gJ2ZpcnN0JyB0aGVuIHNldEluZGV4IDBcclxuXHRlbHNlIGlmIGtleSA9PSAnbGFzdCcgdGhlbiBzZXRJbmRleCBnbG9iYWwubW92ZXMubGVuZ3RoXHJcblx0ZWxzZSBpZiBrZXkgPT0gJ3ByZXYnIHRoZW4gc2V0SW5kZXggZ2xvYmFsLmluZGV4LTFcclxuXHRlbHNlIGlmIGtleSA9PSAnbmV4dCcgdGhlbiBzZXRJbmRleCBnbG9iYWwuaW5kZXgrMVxyXG5cdGVsc2UgaWYga2V5ID09ICdsaW5rJyB0aGVuIHdpbmRvdy5vcGVuIGRhdGEubGluaywgJ19ibGFuaydcclxuXHRlbHNlIGlmIGtleSA9PSAndXAnICAgdGhlbiBmaXhTdXBlciAtMVxyXG5cdGVsc2UgaWYga2V5ID09ICdkb3duJyB0aGVuIGZpeFN1cGVyIDFcclxuXHRlbHNlXHJcblx0XHRzZXRJbmRleCBnbG9iYWwuaW5kZXhcclxuXHRcdGdsb2JhbC5ib2FyZC5tb3ZlIGtleVxyXG5cclxuZXhwb3J0IGZpeFN1cGVyID0gKHZhbHVlKSA9PlxyXG5cdGdsb2JhbC5zdXBlckluZGV4ID0gKGdsb2JhbC5zdXBlckluZGV4K3ZhbHVlKSAlJSAoZ2V0TW92ZShnbG9iYWwuaW5kZXgtMSkuc3VwZXJpb3JzLmxlbmd0aCsxKVxyXG5cdGlmIGdsb2JhbC5zdXBlckluZGV4ID09IDAgdGhlbiB1Y2kgPSBnZXRNb3ZlKGdsb2JhbC5pbmRleC0xKS51Y2lcclxuXHRlbHNlIHVjaSA9IGdldE1vdmUoZ2xvYmFsLmluZGV4LTEpLnN1cGVyaW9yc1tnbG9iYWwuc3VwZXJJbmRleC0xXVxyXG5cdGdsb2JhbC5ib2FyZC5waWVjZXMgPSBtYWtlTW92ZSB1Y2ksZ2xvYmFsLnBpZWNlc3NbZ2xvYmFsLmluZGV4LTFdXHJcblxyXG5leHBvcnQgZ2V0TW92ZSA9IChpbmRleCkgPT5cclxuXHRpZiBpbmRleD09LTFcclxuXHRcdHtzY29yZTonJywgdWNpOicnLCBzYW46JycsIHN1cGVyaW9yczpbXSwgc3VwZXJpb3JzU2FuOltdfVxyXG5cdGVsc2VcclxuXHRcdGdsb2JhbC5tb3Zlc1tpbmRleF1cclxuIl19
//# sourceURL=c:\github\2023-018-Python-Chess_Evaluate\coffee\globals.coffee