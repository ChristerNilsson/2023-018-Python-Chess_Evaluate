// Generated by CoffeeScript 2.5.1
var SIZE;

import {
  ass,
  lerp,
  range
} from '../js/utils.js';

import {
  Square
} from '../js/square.js';

import {
  Button
} from '../js/button.js';

import {
  makeMove,
  click,
  getMove,
  global
} from '../js/globals.js';

SIZE = global.SIZE;

export var Board = (function() {
  var calcBar;

  class Board {
    constructor() {
      var i, j, len, ref;
      this.start = this.start.bind(this);
      this.move = this.move.bind(this);
      this.draw = this.draw.bind(this);
      this.littera = this.littera.bind(this);
      this.flip = this.flip.bind(this);
      this.squares = [];
      this.pieces = "";
      this.flipped = false;
      ref = range(64);
      for (j = 0, len = ref.length; j < len; j++) {
        i = ref[j];
        this.squares.push(new Square(i));
      }
      this.start();
      this.buttons = [];
      this.buttons.push(new Button(1.0 * SIZE, 9.5 * SIZE, 'first', () => {
        return click('first');
      }));
      this.buttons.push(new Button(2.7 * SIZE, 9.5 * SIZE, 'prev', () => {
        return click('prev');
      }));
      this.buttons.push(new Button(4.4 * SIZE, 9.5 * SIZE, 'next', () => {
        return click('next');
      }));
      this.buttons.push(new Button(6.1 * SIZE, 9.5 * SIZE, 'last', () => {
        return click('last');
      }));
      this.buttons.push(new Button(1.0 * SIZE, 10.5 * SIZE, 'flip', () => {
        return click('flip');
      }));
      this.buttons.push(new Button(2.7 * SIZE, 10.5 * SIZE, 'link', () => {
        return click('link');
      }));
    }

    start() {
      return this.pieces = "RNBQKBNRPPPPPPPP33333333444444445555555566666666pppppppprnbqkbnr";
    }

    move(i) {
      var key, m;
      m = global.moves[global.index - 1];
      if (i === 0) {
        key = m.uci;
      } else {
        key = m.superiors[i - 1];
      }
      this.pieces = makeMove(key, global.piecess[global.index - 1]);
      return global.superIndex = i;
    }

    draw() {
      var button, i, j, k, len, len1, ref, ref1, results, score;
      fill('white');
      textSize(SIZE * 0.3);
      push();
      textAlign(LEFT, CENTER);
      text(global.filename, 0.05 * SIZE, 0.3 * SIZE);
      pop();
      ref = range(64);
      for (j = 0, len = ref.length; j < len; j++) {
        i = ref[j];
        this.squares[i].draw(this.pieces[i], this.flipped);
      }
      stroke('black');
      noFill();
      rect(SIZE * 4.5, SIZE * 4.5, SIZE * 8, SIZE * 8);
      this.littera();
      text(global.index + " of " + global.moves.length, 5 * SIZE, 10.5 * SIZE);
      if (global.index === 0) {
        score = 0;
      } else {
        if (global.superIndex === 0) {
          score = global.moves[global.index - 1].score;
        } else {
          score = global.moves[global.index - 1].scores[global.superIndex - 1];
        }
      }
      text('score:' + score, 7 * SIZE, 10.5 * SIZE);
      text(global.data.depth, 10 * SIZE, 0.3 * SIZE);
      this.drawBars(score);
      ref1 = this.buttons;
      // txt0=""
      // txt1=""
      // if global.superIndex == 0 then txt0 = "actual move"
      // #if global.superIndex == getMove(global.index-1).superiorsSan.length then txt1 = "strongest"
      // if txt0!="" and txt1!="" then txt = txt0 + " == " + txt1
      // else txt = txt0 + txt1
      // text txt, 8*SIZE, 10.5*SIZE
      results = [];
      for (k = 0, len1 = ref1.length; k < len1; k++) {
        button = ref1[k];
        results.push(button.draw());
      }
      return results;
    }

    littera() {
      var i, j, len, ref, results;
      noStroke();
      fill('black');
      textSize(SIZE * 0.3);
      ref = range(8);
      results = [];
      for (j = 0, len = ref.length; j < len; j++) {
        i = ref[j];
        if (this.flipped) {
          text("hgfedcba"[i], SIZE * (i + 1), SIZE * 8.8);
          results.push(text("12345678"[i], SIZE * 0.1, SIZE * (i + 1)));
        } else {
          text("abcdefgh"[i], SIZE * (i + 1), SIZE * 8.8);
          results.push(text("87654321"[i], SIZE * 0.1, SIZE * (i + 1)));
        }
      }
      return results;
    }

    flip() {
      return this.flipped = !this.flipped;
    }

    drawBars(score) {
      var h;
      stroke('black');
      h = calcBar(score);
      push();
      rectMode(CORNER);
      noStroke();
      fill('black');
      rect(0.25 * SIZE, 0.5 * SIZE, SIZE * 0.2, SIZE * 4);
      fill('white');
      rect(0.25 * SIZE, 4.5 * SIZE, SIZE * 0.2, SIZE * 4);
      if (h > 0) {
        fill('white');
        rect(0.25 * SIZE, 4.5 * SIZE - h, SIZE * 0.2, h);
      } else {
        fill('black');
        rect(0.25 * SIZE, 4.5 * SIZE, SIZE * 0.2, -h);
      }
      return pop();
    }

  };

  calcBar = (score) => {
    var LIMIT, d, res;
    LIMIT = 2000;
    d = Math.abs(score);
    if (d > LIMIT) {
      d = LIMIT;
    }
    res = lerp(0 * SIZE, 4 * SIZE, d / LIMIT);
    if (score < 0) {
      res = -res;
    }
    return Math.round(res);
  };

  ass(200, calcBar(2100));

  ass(200, calcBar(2000));

  ass(100, calcBar(1000));

  ass(50, calcBar(500));

  ass(0, calcBar(1));

  ass(-50, calcBar(-500));

  return Board;

}).call(this);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYm9hcmQuanMiLCJzb3VyY2VSb290IjoiLi4iLCJzb3VyY2VzIjpbImNvZmZlZVxcYm9hcmQuY29mZmVlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxJQUFBOztBQUFBLE9BQUE7RUFBUSxHQUFSO0VBQVksSUFBWjtFQUFpQixLQUFqQjtDQUFBLE1BQUE7O0FBQ0EsT0FBQTtFQUFRLE1BQVI7Q0FBQSxNQUFBOztBQUNBLE9BQUE7RUFBUSxNQUFSO0NBQUEsTUFBQTs7QUFDQSxPQUFBO0VBQVEsUUFBUjtFQUFpQixLQUFqQjtFQUF1QixPQUF2QjtFQUErQixNQUEvQjtDQUFBLE1BQUE7O0FBRUEsSUFBQSxHQUFPLE1BQU0sQ0FBQzs7QUFFZCxPQUFBLElBQWE7OztFQUFOLE1BQUEsTUFBQTtJQUNOLFdBQWEsQ0FBQSxDQUFBO0FBQ2QsVUFBQSxDQUFBLEVBQUEsQ0FBQSxFQUFBLEdBQUEsRUFBQTtVQWNDLENBQUEsWUFBQSxDQUFBO1VBR0EsQ0FBQSxXQUFBLENBQUE7VUFNQSxDQUFBLFdBQUEsQ0FBQTtVQXlDQSxDQUFBLGNBQUEsQ0FBQTtVQVlBLENBQUEsV0FBQSxDQUFBO01BNUVDLElBQUMsQ0FBQSxPQUFELEdBQVc7TUFDWCxJQUFDLENBQUEsTUFBRCxHQUFVO01BQ1YsSUFBQyxDQUFBLE9BQUQsR0FBVztBQUNYO01BQUEsS0FBQSxxQ0FBQTs7UUFDQyxJQUFDLENBQUEsT0FBTyxDQUFDLElBQVQsQ0FBYyxJQUFJLE1BQUosQ0FBVyxDQUFYLENBQWQ7TUFERDtNQUVBLElBQUMsQ0FBQSxLQUFELENBQUE7TUFFQSxJQUFDLENBQUEsT0FBRCxHQUFVO01BQ1YsSUFBQyxDQUFBLE9BQU8sQ0FBQyxJQUFULENBQWMsSUFBSSxNQUFKLENBQVcsR0FBQSxHQUFJLElBQWYsRUFBcUIsR0FBQSxHQUFJLElBQXpCLEVBQStCLE9BQS9CLEVBQXdDLENBQUEsQ0FBQSxHQUFBO2VBQUcsS0FBQSxDQUFNLE9BQU47TUFBSCxDQUF4QyxDQUFkO01BQ0EsSUFBQyxD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ICcuLi9qcy91dGlscy5qcydcclxuaW1wb3J0IHtTcXVhcmV9IGZyb20gJy4uL2pzL3NxdWFyZS5qcydcclxuaW1wb3J0IHtCdXR0b259IGZyb20gJy4uL2pzL2J1dHRvbi5qcydcclxuaW1wb3J0IHttYWtlTW92ZSxjbGljayxnZXRNb3ZlLGdsb2JhbH0gZnJvbSAnLi4vanMvZ2xvYmFscy5qcydcclxuXHJcblNJWkUgPSBnbG9iYWwuU0laRVxyXG5cclxuZXhwb3J0IGNsYXNzIEJvYXJkXHJcblx0Y29uc3RydWN0b3I6IC0+XHJcblx0XHRAc3F1YXJlcyA9IFtdXHJcblx0XHRAcGllY2VzID0gXCJcIlxyXG5cdFx0QGZsaXBwZWQgPSBmYWxzZVxyXG5cdFx0Zm9yIGkgaW4gcmFuZ2UgNjRcclxuXHRcdFx0QHNxdWFyZXMucHVzaCBuZXcgU3F1YXJlIGlcclxuXHRcdEBzdGFydCgpXHJcblxyXG5cdFx0QGJ1dHRvbnMgPVtdXHJcblx0XHRAYnV0dG9ucy5wdXNoIG5ldyBCdXR0b24gMS4wKlNJWkUsIDkuNSpTSVpFLCAnZmlyc3QnLCA9PiBjbGljayAnZmlyc3QnXHJcblx0XHRAYnV0dG9ucy5wdXNoIG5ldyBCdXR0b24gMi43KlNJWkUsIDkuNSpTSVpFLCAncHJldicsID0+IGNsaWNrICdwcmV2J1xyXG5cdFx0QGJ1dHRvbnMucHVzaCBuZXcgQnV0dG9uIDQuNCpTSVpFLCA5LjUqU0laRSwgJ25leHQnLCA9PiBjbGljayAnbmV4dCdcclxuXHRcdEBidXR0b25zLnB1c2ggbmV3IEJ1dHRvbiA2LjEqU0laRSwgOS41KlNJWkUsICdsYXN0JywgPT4gY2xpY2sgJ2xhc3QnXHJcblx0XHRAYnV0dG9ucy5wdXNoIG5ldyBCdXR0b24gMS4wKlNJWkUsIDEwLjUqU0laRSwgJ2ZsaXAnLCA9PiBjbGljayAnZmxpcCdcclxuXHRcdEBidXR0b25zLnB1c2ggbmV3IEJ1dHRvbiAyLjcqU0laRSwgMTAuNSpTSVpFLCAnbGluaycsID0+IGNsaWNrICdsaW5rJ1xyXG5cdHN0YXJ0IDogPT5cclxuXHRcdEBwaWVjZXMgPSBcIlJOQlFLQk5SUFBQUFBQUFAzMzMzMzMzMzQ0NDQ0NDQ0NTU1NTU1NTU2NjY2NjY2NnBwcHBwcHBwcm5icWtibnJcIlxyXG5cclxuXHRtb3ZlIDogKGkpID0+XHJcblx0XHRtID0gZ2xvYmFsLm1vdmVzW2dsb2JhbC5pbmRleC0xXVxyXG5cdFx0aWYgaT09MCB0aGVuIGtleSA9IG0udWNpIGVsc2Uga2V5ID0gbS5zdXBlcmlvcnNbaS0xXVxyXG5cdFx0QHBpZWNlcyA9IG1ha2VNb3ZlIGtleSwgZ2xvYmFsLnBpZWNlc3NbZ2xvYmFsLmluZGV4LTFdXHJcblx0XHRnbG9iYWwuc3VwZXJJbmRleCA9IGlcclxuXHJcblx0ZHJhdyA6ID0+XHRcdFxyXG5cdFx0ZmlsbCAnd2hpdGUnXHJcblx0XHR0ZXh0U2l6ZSBTSVpFKjAuM1xyXG5cclxuXHRcdHB1c2goKVxyXG5cdFx0dGV4dEFsaWduIExFRlQsQ0VOVEVSXHJcblx0XHR0ZXh0IGdsb2JhbC5maWxlbmFtZSwwLjA1KlNJWkUsIDAuMypTSVpFXHJcblx0XHRwb3AoKVxyXG5cclxuXHRcdGZvciBpIGluIHJhbmdlIDY0XHJcblx0XHRcdEBzcXVhcmVzW2ldLmRyYXcgQHBpZWNlc1tpXSxAZmxpcHBlZFxyXG5cdFx0c3Ryb2tlICdibGFjaydcclxuXHRcdG5vRmlsbCgpXHJcblx0XHRyZWN0IFNJWkUqNC41LFNJWkUqNC41LFNJWkUqOCxTSVpFKjhcclxuXHJcblx0XHRAbGl0dGVyYSgpXHJcblxyXG5cdFx0dGV4dCBnbG9iYWwuaW5kZXggKyBcIiBvZiBcIisgZ2xvYmFsLm1vdmVzLmxlbmd0aCwgNSpTSVpFLCAxMC41KlNJWkVcclxuXHRcdGlmIGdsb2JhbC5pbmRleD09MFxyXG5cdFx0XHRzY29yZSA9IDAgXHJcblx0XHRlbHNlIFxyXG5cdFx0XHRpZiBnbG9iYWwuc3VwZXJJbmRleCA9PSAwXHJcblx0XHRcdFx0c2NvcmUgPSBnbG9iYWwubW92ZXNbZ2xvYmFsLmluZGV4LTFdLnNjb3JlXHJcblx0XHRcdGVsc2UgXHJcblx0XHRcdFx0c2NvcmUgPSBnbG9iYWwubW92ZXNbZ2xvYmFsLmluZGV4LTFdLnNjb3Jlc1tnbG9iYWwuc3VwZXJJbmRleC0xXVxyXG5cclxuXHRcdHRleHQgJ3Njb3JlOicrc2NvcmUsIDcqU0laRSwgMTAuNSpTSVpFXHJcblx0XHR0ZXh0IGdsb2JhbC5kYXRhLmRlcHRoLCAxMCpTSVpFLCAwLjMqU0laRVxyXG5cclxuXHRcdEBkcmF3QmFycyBzY29yZVxyXG5cclxuXHRcdCMgdHh0MD1cIlwiXHJcblx0XHQjIHR4dDE9XCJcIlxyXG5cdFx0IyBpZiBnbG9iYWwuc3VwZXJJbmRleCA9PSAwIHRoZW4gdHh0MCA9IFwiYWN0dWFsIG1vdmVcIlxyXG5cdFx0IyAjaWYgZ2xvYmFsLnN1cGVySW5kZXggPT0gZ2V0TW92ZShnbG9iYWwuaW5kZXgtMSkuc3VwZXJpb3JzU2FuLmxlbmd0aCB0aGVuIHR4dDEgPSBcInN0cm9uZ2VzdFwiXHJcblx0XHQjIGlmIHR4dDAhPVwiXCIgYW5kIHR4dDEhPVwiXCIgdGhlbiB0eHQgPSB0eHQwICsgXCIgPT0gXCIgKyB0eHQxXHJcblx0XHQjIGVsc2UgdHh0ID0gdHh0MCArIHR4dDFcclxuXHRcdCMgdGV4dCB0eHQsIDgqU0laRSwgMTAuNSpTSVpFXHJcblx0XHRmb3IgYnV0dG9uIGluIEBidXR0b25zXHJcblx0XHRcdGJ1dHRvbi5kcmF3KClcclxuXHJcblx0bGl0dGVyYSA6ID0+XHJcblx0XHRub1N0cm9rZSgpXHJcblx0XHRmaWxsICdibGFjaydcclxuXHRcdHRleHRTaXplIFNJWkUqMC4zXHJcblx0XHRmb3IgaSBpbiByYW5nZSA4XHJcblx0XHRcdGlmIEBmbGlwcGVkXHJcblx0XHRcdFx0dGV4dCBcImhnZmVkY2JhXCJbaV0sU0laRSooaSsxKSxTSVpFKjguOFxyXG5cdFx0XHRcdHRleHQgXCIxMjM0NTY3OFwiW2ldLFNJWkUqMC4xLFNJWkUqKGkrMSlcclxuXHRcdFx0ZWxzZVxyXG5cdFx0XHRcdHRleHQgXCJhYmNkZWZnaFwiW2ldLFNJWkUqKGkrMSksU0laRSo4LjhcclxuXHRcdFx0XHR0ZXh0IFwiODc2NTQzMjFcIltpXSxTSVpFKjAuMSxTSVpFKihpKzEpXHJcblxyXG5cdGZsaXAgOiA9PiBAZmxpcHBlZCA9IG5vdCBAZmxpcHBlZFxyXG5cclxuXHRkcmF3QmFycyA6IChzY29yZSkgLT5cclxuXHRcdHN0cm9rZSAnYmxhY2snXHJcblx0XHRoID0gY2FsY0JhciBzY29yZVxyXG5cclxuXHRcdHB1c2goKVxyXG5cdFx0cmVjdE1vZGUgQ09STkVSXHJcblx0XHRub1N0cm9rZSgpXHJcblx0XHRmaWxsICdibGFjaydcclxuXHRcdHJlY3QgMC4yNSpTSVpFLCAwLjUqU0laRSwgU0laRSowLjIsIFNJWkUgKiA0XHJcblx0XHRmaWxsICd3aGl0ZSdcclxuXHRcdHJlY3QgMC4yNSpTSVpFLCA0LjUqU0laRSwgU0laRSowLjIsIFNJWkUgKiA0XHJcblx0XHRpZiBoID4gMFxyXG5cdFx0XHRmaWxsICd3aGl0ZSdcclxuXHRcdFx0cmVjdCAwLjI1KlNJWkUsIDQuNSpTSVpFIC0gaCwgU0laRSowLjIsIGhcclxuXHRcdGVsc2VcclxuXHRcdFx0ZmlsbCAnYmxhY2snXHJcblx0XHRcdHJlY3QgMC4yNSpTSVpFLCA0LjUqU0laRSwgU0laRSowLjIsIC1oXHJcblx0XHRwb3AoKVxyXG5cclxuXHRjYWxjQmFyID0gKHNjb3JlKSA9PlxyXG5cdFx0TElNSVQgPSAyMDAwXHJcblx0XHRkID0gTWF0aC5hYnMgc2NvcmVcclxuXHRcdGlmIGQgPiBMSU1JVCAgdGhlbiBkID0gTElNSVRcclxuXHRcdHJlcyA9IGxlcnAgMCpTSVpFLCA0KlNJWkUsIGQvTElNSVRcclxuXHRcdGlmIHNjb3JlIDwgMCB0aGVuIHJlcyA9IC1yZXNcclxuXHRcdE1hdGgucm91bmQgcmVzXHJcblx0YXNzIDIwMCxjYWxjQmFyIDIxMDBcclxuXHRhc3MgMjAwLGNhbGNCYXIgMjAwMFxyXG5cdGFzcyAxMDAsY2FsY0JhciAxMDAwXHJcblx0YXNzIDUwLGNhbGNCYXIgNTAwXHJcblx0YXNzIDAsY2FsY0JhciAxXHJcblx0YXNzIC01MCxjYWxjQmFyIC01MDBcclxuXHJcbiJdfQ==
//# sourceURL=c:\github\2023-018-Python-Chess_Evaluate\coffee\board.coffee