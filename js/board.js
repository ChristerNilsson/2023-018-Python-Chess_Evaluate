// Generated by CoffeeScript 2.5.1
var SIZE,
  indexOf = [].indexOf;

import {
  ass,
  lerp,
  param,
  range
} from '../js/utils.js';

import {
  Square
} from '../js/square.js';

import {
  Button
} from '../js/button.js';

import {
  makeMove,
  clickString,
  getMove,
  global,
  loadGame,
  fixSuper
} from '../js/globals.js';

SIZE = global.SIZE;

export var Board = (function() {
  var calcBar;

  class Board {
    constructor() {
      var i, j, len, ref, x0, x1, x2, x3;
      this.start = this.start.bind(this);
      this.move = this.move.bind(this);
      this.draw = this.draw.bind(this);
      this.littera = this.littera.bind(this);
      this.flip = this.flip.bind(this);
      this.squares = [];
      this.pieces = "";
      this.flipped = false;
      ref = range(64);
      for (j = 0, len = ref.length; j < len; j++) {
        i = ref[j];
        this.squares.push(new Square(i));
      }
      this.start();
      this.buttons = [];
      x0 = 1.5;
      x1 = 3.5;
      x2 = 5.5;
      x3 = 7.5;
      this.buttons.push(new Button(x0 * SIZE, 9.5 * SIZE, 'first', () => {
        return clickString('first');
      }));
      this.buttons.push(new Button(x1 * SIZE, 9.5 * SIZE, 'move -1', () => {
        return clickString('prev');
      }));
      this.buttons.push(new Button(x2 * SIZE, 9.5 * SIZE, 'move +1', () => {
        return clickString('next');
      }));
      this.buttons.push(new Button(x3 * SIZE, 9.5 * SIZE, 'last', () => {
        return clickString('last');
      }));
      this.buttons.push(new Button(x0 * SIZE, 10.5 * SIZE, 'flip', () => {
        return clickString('flip');
      }));
      this.buttons.push(new Button(x1 * SIZE, 10.5 * SIZE, 'game -1', () => {
        return clickString('pgup');
      }));
      this.buttons.push(new Button(x2 * SIZE, 10.5 * SIZE, 'game +1', () => {
        return clickString('pgdn');
      }));
      this.buttons.push(new Button(x3 * SIZE, 10.5 * SIZE, 'link', () => {
        return clickString('link');
      }));
    }

    start() {
      return this.pieces = "RNBQKBNRPPPPPPPP33333333444444445555555566666666pppppppprnbqkbnr";
    }

    move(i) {
      var key, m;
      param.Integer(i);
      console.log('move', i);
      m = global.moves[global.index - 1];
      if (i === 0) {
        key = m.uci;
      } else {
        key = m.superiors[i - 1];
      }
      this.pieces = makeMove(key, global.piecess[global.index - 1]);
      global.superIndex = i + 1;
      return fixSuper(0);
    }

    draw() {
      var button, i, j, k, len, len1, ref, ref1, score;
      ref = this.buttons;
      for (j = 0, len = ref.length; j < len; j++) {
        button = ref[j];
        button.draw();
      }
      if (!global.data) {
        return;
      }
      fill('white');
      textSize(SIZE * 0.3);
      push();
      textAlign(LEFT, CENTER);
      text(global.filename, 0.05 * SIZE, 0.3 * SIZE);
      pop();
      ref1 = range(64);
      for (k = 0, len1 = ref1.length; k < len1; k++) {
        i = ref1[k];
        this.squares[i].draw(this.pieces[i], this.flipped);
      }
      stroke('black');
      noFill();
      rect(SIZE * 4.5, SIZE * 4.5, SIZE * 8, SIZE * 8);
      this.littera();
      push();
      textAlign(CENTER, CENTER);
      if (global.index > 0) {
        text('move: ' + (1 + Math.floor(global.index / 2)) + "BW"[global.index % 2] + " of " + (1 + Math.floor(global.moves.length / 2)), 4.5 * SIZE, 10 * SIZE);
      }
      if (global.index === 0) {
        score = '0';
      } else {
        if (global.superIndex === 0) {
          score = global.moves[global.index - 1].score;
        } else {
          score = global.moves[global.index - 1].scores[global.superIndex - 1];
        }
      }
      text('depth: ' + global.data.depth, 1.5 * SIZE, 10 * SIZE);
      text(global.version, 7.5 * SIZE, 10 * SIZE);
      textAlign(RIGHT, CENTER);
      fill('white');
      text(score, 10.1 * SIZE, 0.3 * SIZE);
      pop();
      return this.drawBars(score);
    }

    littera() {
      var digits, i, j, len, letters, ref, results;
      noStroke();
      fill('black');
      textSize(SIZE * 0.3);
      letters = this.flipped ? "hgfedcba" : "abcdefgh";
      digits = this.flipped ? "87654321" : "12345678";
      ref = range(8);
      results = [];
      for (j = 0, len = ref.length; j < len; j++) {
        i = ref[j];
        text(letters[i], SIZE * (i + 1), SIZE * 8.8);
        results.push(text(digits[i], SIZE * 0.15, SIZE * (i + 1)));
      }
      return results;
    }

    flip() {
      return this.flipped = !this.flipped;
    }

    drawBars(score) {
      var h, w, x;
      param.String(score);
      stroke('black');
      h = calcBar(score);
      push();
      if (this.flipped) {
        translate(0, SIZE * 9);
        scale(1, -1);
      }
      rectMode(CORNER);
      noStroke();
      x = 0.35 * SIZE;
      w = 0.10 * SIZE;
      fill('black');
      rect(x, 0.5 * SIZE, w, SIZE * 4);
      fill('white');
      rect(x, 4.5 * SIZE, w, SIZE * 4);
      if (h > 0) {
        fill('white');
        rect(x, 4.5 * SIZE - h, w, h);
      } else {
        fill('black');
        rect(x, 4.5 * SIZE, w, -h);
      }
      return pop();
    }

  };

  calcBar = (score) => {
    var LIMIT, d, res;
    param.String(score);
    LIMIT = 2000;
    if (score[0] === '#') {
      d = LIMIT;
    } else {
      d = Math.abs(score);
    }
    if (d > LIMIT) {
      d = LIMIT;
    }
    res = lerp(0, 4 * SIZE, d / LIMIT);
    if (indexOf.call(score, "-") >= 0) {
      res = -res;
    }
    return param.Integer(Math.round(res));
  };

  ass(4 * SIZE, calcBar("2100"));

  ass(4 * SIZE, calcBar("2000"));

  ass(2 * SIZE, calcBar("1000"));

  ass(SIZE, calcBar("500"));

  ass(0, calcBar("1"));

  ass(-SIZE, calcBar("-500"));

  ass(-4 * SIZE, calcBar("#-1"));

  return Board;

}).call(this);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYm9hcmQuanMiLCJzb3VyY2VSb290IjoiLi4iLCJzb3VyY2VzIjpbImNvZmZlZVxcYm9hcmQuY29mZmVlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxJQUFBLElBQUE7RUFBQTs7QUFBQSxPQUFBO0VBQVEsR0FBUjtFQUFZLElBQVo7RUFBaUIsS0FBakI7RUFBdUIsS0FBdkI7Q0FBQSxNQUFBOztBQUNBLE9BQUE7RUFBUSxNQUFSO0NBQUEsTUFBQTs7QUFDQSxPQUFBO0VBQVEsTUFBUjtDQUFBLE1BQUE7O0FBQ0EsT0FBQTtFQUFRLFFBQVI7RUFBaUIsV0FBakI7RUFBNkIsT0FBN0I7RUFBcUMsTUFBckM7RUFBNkMsUUFBN0M7RUFBdUQsUUFBdkQ7Q0FBQSxNQUFBOztBQUVBLElBQUEsR0FBTyxNQUFNLENBQUM7O0FBRWQsT0FBQSxJQUFhOzs7RUFBTixNQUFBLE1BQUE7SUFDTixXQUFhLENBQUEsQ0FBQTtBQUNkLFVBQUEsQ0FBQSxFQUFBLENBQUEsRUFBQSxHQUFBLEVBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBO1VBcUJDLENBQUEsWUFBQSxDQUFBO1VBR0EsQ0FBQSxXQUFBLENBQUE7VUFTQSxDQUFBLFdBQUEsQ0FBQTtVQTRDQSxDQUFBLGNBQUEsQ0FBQTtVQVdBLENBQUEsV0FBQSxDQUFBO01BeEZDLElBQUMsQ0FBQSxPQUFELEdBQVc7TUFDWCxJQUFDLENBQUEsTUFBRCxHQUFVO01BQ1YsSUFBQyxDQUFBLE9BQUQsR0FBVztBQUNYO01BQUEsS0FBQSxxQ0FBQTs7UUFDQyxJQUFDLENBQUEsT0FBTyxDQUFDLElBQVQsQ0FBYyxJQUFJLE1BQUosQ0FBVyxDQUFYLENBQWQ7TUFERDtNQUVBLElBQUMsQ0FBQSxLQUFELENBQUE7TUFFQSxJQUFDLENBQUEsT0FBRCxHQUFXO01BQ1gsRUFBQSxHQUFLO01BQ0wsRUFBQSxHQUFLO01BQ0wsRUFBQSxHQUFLO01BQ0wsRUFBQSxHQUFLO01BQ0wsSUFBQyxDQUFBLE9BQU8sQ0FBQyxJQUFULENBQWMsSUFBSSxNQUFKLENBQVcsRUFBQSxHQUFHLElBQWQsRUFBb0IsR0FBQSxHQUFJLElBQXhCLEVBQThCLE9BQTlCLEVBQTBDLENBQUEsQ0FBQSxHQUFBO2VBQUcsV0FBQSxDQUFZLE9BQVo7TUFBSCxDQUExQyxDQUFkO01BQ0EsSUFBQyxDQUFBLE9BQU8sQ0FBQyxJQUFULENBQWMsSUFBSSxNQUFKLENBQVcsRUFBQSxHQUFHLElBQWQsRUFBb0IsR0FBQSxHQUFJLElBQXhCLEVBQThCLFNBQTlCLEVBQTBDLENBQUEsQ0FBQSxHQUFBO2VBQUcsV0FBQSxDQUFZLE1BQVo7TUFBSCxDQUExQyxDQUFkO01BQ0EsSUFBQyxDQUFBLE9BQU8sQ0FBQyxJQUFULENBQWMsSUFBSSxNQUFKLENBQVcsRUFBQSxHQUFHLElBQWQsRUFBb0IsR0FBQSxHQUFJLElBQXhCLEVBQThCLFNBQTlCLEVBQTBDLENBQUEsQ0FBQSxHQUFBO2VBQUcsV0FBQSxDQUFZLE1BQVo7TUFBSCxDQUExQyxDQUFkO01BQ0EsSUFBQyxDQUFBLE9BQU8sQ0FBQyxJQUFULENBQWMsSUFBSSxNQUFKLENBQVcsRUFBQSxHQUFHLElBQWQsRUFBb0IsR0FBQSxHQUFJLElBQXhCLEVBQThCLE1BQTlCLEVBQTBDLENBQUEsQ0FBQSxHQUFBO2VBQUcsV0FBQSxDQUFZLE1BQVo7TUFBSCxDQUExQyxDQUFkO01BRUEsSUFBQyxDQUFBLE9BQU8sQ0FBQyxJQUFULENBQWMsSUFBSSxNQUFKLENBQVcsRUFBQSxHQUFHLElBQWQsRUFBb0IsSUFBQSxHQUFLLElBQXpCLEVBQStCLE1BQS9CLEVBQTBDLENBQUEsQ0FBQSxHQUFBO2VBQUcsV0FBQSxDQUFZLE1BQVo7TUFBSCxDQUExQyxDQUFkO01BQ0EsSUFBQyxDQUFBLE9BQU8sQ0FBQyxJQUFULENBQWMsSUFBSSxNQUFKLENBQVcsRUFBQSxHQUFHLElBQWQsRUFBb0IsSUFBQSxHQUFLLElBQXpCLEVBQStCLFNBQS9CLEVBQTBDLENBQUEsQ0FBQSxHQUFBO2VBQUcsV0FBQSxDQUFZLE1BQVo7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QUFSLENBQVQ7O0VBQ0EsR0FBQSxDQUFJLENBQUosRUFBTSxPQUFBLENBQVEsR0FBUixDQUFOOztFQUNBLEdBQUEsQ0FBSSxDQUFDLElBQUwsRUFBVSxPQUFBLENBQVEsTUFBUixDQUFWOztFQUNBLEdBQUEsQ0FBSSxDQUFDLENBQUQsR0FBRyxJQUFQLEVBQVksT0FBQSxDQUFRLEtBQVIsQ0FBWiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7YXNzLGxlcnAscGFyYW0scmFuZ2V9IGZyb20gJy4uL2pzL3V0aWxzLmpzJ1xyXG5pbXBvcnQge1NxdWFyZX0gZnJvbSAnLi4vanMvc3F1YXJlLmpzJ1xyXG5pbXBvcnQge0J1dHRvbn0gZnJvbSAnLi4vanMvYnV0dG9uLmpzJ1xyXG5pbXBvcnQge21ha2VNb3ZlLGNsaWNrU3RyaW5nLGdldE1vdmUsZ2xvYmFsLCBsb2FkR2FtZSwgZml4U3VwZXJ9IGZyb20gJy4uL2pzL2dsb2JhbHMuanMnXHJcblxyXG5TSVpFID0gZ2xvYmFsLlNJWkVcclxuXHJcbmV4cG9ydCBjbGFzcyBCb2FyZFxyXG5cdGNvbnN0cnVjdG9yOiAtPlxyXG5cdFx0QHNxdWFyZXMgPSBbXVxyXG5cdFx0QHBpZWNlcyA9IFwiXCJcclxuXHRcdEBmbGlwcGVkID0gZmFsc2VcclxuXHRcdGZvciBpIGluIHJhbmdlIDY0XHJcblx0XHRcdEBzcXVhcmVzLnB1c2ggbmV3IFNxdWFyZSBpXHJcblx0XHRAc3RhcnQoKVxyXG5cclxuXHRcdEBidXR0b25zID0gW11cclxuXHRcdHgwID0gMS41XHJcblx0XHR4MSA9IDMuNVxyXG5cdFx0eDIgPSA1LjVcclxuXHRcdHgzID0gNy41XHJcblx0XHRAYnV0dG9ucy5wdXNoIG5ldyBCdXR0b24geDAqU0laRSwgOS41KlNJWkUsICdmaXJzdCcsICAgID0+IGNsaWNrU3RyaW5nICdmaXJzdCdcclxuXHRcdEBidXR0b25zLnB1c2ggbmV3IEJ1dHRvbiB4MSpTSVpFLCA5LjUqU0laRSwgJ21vdmUgLTEnLCAgPT4gY2xpY2tTdHJpbmcgJ3ByZXYnXHJcblx0XHRAYnV0dG9ucy5wdXNoIG5ldyBCdXR0b24geDIqU0laRSwgOS41KlNJWkUsICdtb3ZlICsxJywgID0+IGNsaWNrU3RyaW5nICduZXh0J1xyXG5cdFx0QGJ1dHRvbnMucHVzaCBuZXcgQnV0dG9uIHgzKlNJWkUsIDkuNSpTSVpFLCAnbGFzdCcsICAgICA9PiBjbGlja1N0cmluZyAnbGFzdCdcclxuXHJcblx0XHRAYnV0dG9ucy5wdXNoIG5ldyBCdXR0b24geDAqU0laRSwgMTAuNSpTSVpFLCAnZmxpcCcsICAgID0+IGNsaWNrU3RyaW5nICdmbGlwJ1xyXG5cdFx0QGJ1dHRvbnMucHVzaCBuZXcgQnV0dG9uIHgxKlNJWkUsIDEwLjUqU0laRSwgJ2dhbWUgLTEnLCA9PiBjbGlja1N0cmluZyAncGd1cCdcclxuXHRcdEBidXR0b25zLnB1c2ggbmV3IEJ1dHRvbiB4MipTSVpFLCAxMC41KlNJWkUsICdnYW1lICsxJywgPT4gY2xpY2tTdHJpbmcgJ3BnZG4nXHJcblx0XHRAYnV0dG9ucy5wdXNoIG5ldyBCdXR0b24geDMqU0laRSwgMTAuNSpTSVpFLCAnbGluaycsICAgID0+IGNsaWNrU3RyaW5nICdsaW5rJ1xyXG5cdHN0YXJ0IDogPT5cclxuXHRcdEBwaWVjZXMgPSBcIlJOQlFLQk5SUFBQUFBQUFAzMzMzMzMzMzQ0NDQ0NDQ0NTU1NTU1NTU2NjY2NjY2NnBwcHBwcHBwcm5icWtibnJcIlxyXG5cclxuXHRtb3ZlIDogKGkpID0+XHJcblx0XHRwYXJhbS5JbnRlZ2VyIGlcclxuXHRcdGNvbnNvbGUubG9nICdtb3ZlJyxpXHJcblx0XHRtID0gZ2xvYmFsLm1vdmVzW2dsb2JhbC5pbmRleC0xXVxyXG5cdFx0aWYgaT09MCB0aGVuIGtleSA9IG0udWNpIGVsc2Uga2V5ID0gbS5zdXBlcmlvcnNbaS0xXVxyXG5cdFx0QHBpZWNlcyA9IG1ha2VNb3ZlIGtleSwgZ2xvYmFsLnBpZWNlc3NbZ2xvYmFsLmluZGV4LTFdXHJcblx0XHRnbG9iYWwuc3VwZXJJbmRleCA9IGkrMVxyXG5cdFx0Zml4U3VwZXIgMFxyXG5cclxuXHRkcmF3IDogPT5cclxuXHJcblx0XHRmb3IgYnV0dG9uIGluIEBidXR0b25zXHJcblx0XHRcdGJ1dHRvbi5kcmF3KClcclxuXHJcblx0XHRpZiBub3QgZ2xvYmFsLmRhdGEgdGhlbiByZXR1cm5cclxuXHJcblx0XHRmaWxsICd3aGl0ZSdcclxuXHRcdHRleHRTaXplIFNJWkUqMC4zXHJcblxyXG5cdFx0cHVzaCgpXHJcblx0XHR0ZXh0QWxpZ24gTEVGVCxDRU5URVJcclxuXHRcdHRleHQgZ2xvYmFsLmZpbGVuYW1lLDAuMDUqU0laRSwgMC4zKlNJWkVcclxuXHRcdHBvcCgpXHJcblxyXG5cdFx0Zm9yIGkgaW4gcmFuZ2UgNjRcclxuXHRcdFx0QHNxdWFyZXNbaV0uZHJhdyBAcGllY2VzW2ldLEBmbGlwcGVkXHJcblx0XHRzdHJva2UgJ2JsYWNrJ1xyXG5cdFx0bm9GaWxsKClcclxuXHRcdHJlY3QgU0laRSo0LjUsU0laRSo0LjUsU0laRSo4LFNJWkUqOFxyXG5cclxuXHRcdEBsaXR0ZXJhKClcclxuXHJcblx0XHRwdXNoKClcclxuXHRcdHRleHRBbGlnbiBDRU5URVIsQ0VOVEVSXHJcblx0XHRpZiBnbG9iYWwuaW5kZXggPiAwXHJcblx0XHRcdHRleHQgJ21vdmU6ICcgKyAoMStnbG9iYWwuaW5kZXgvLzIpICsgXCJCV1wiW2dsb2JhbC5pbmRleCUyXSsgXCIgb2YgXCIrICgxK2dsb2JhbC5tb3Zlcy5sZW5ndGgvLzIpLCA0LjUqU0laRSwgMTAqU0laRVxyXG5cdFx0aWYgZ2xvYmFsLmluZGV4PT0wXHJcblx0XHRcdHNjb3JlID0gJzAnXHJcblx0XHRlbHNlIFxyXG5cdFx0XHRpZiBnbG9iYWwuc3VwZXJJbmRleCA9PSAwXHJcblx0XHRcdFx0c2NvcmUgPSBnbG9iYWwubW92ZXNbZ2xvYmFsLmluZGV4LTFdLnNjb3JlXHJcblx0XHRcdGVsc2UgXHJcblx0XHRcdFx0c2NvcmUgPSBnbG9iYWwubW92ZXNbZ2xvYmFsLmluZGV4LTFdLnNjb3Jlc1tnbG9iYWwuc3VwZXJJbmRleC0xXVxyXG5cclxuXHRcdHRleHQgJ2RlcHRoOiAnK2dsb2JhbC5kYXRhLmRlcHRoLCAxLjUqU0laRSwgMTAqU0laRVxyXG5cdFx0dGV4dCBnbG9iYWwudmVyc2lvbiwgNy41KlNJWkUsIDEwKlNJWkVcclxuXHRcdHRleHRBbGlnbiBSSUdIVCxDRU5URVJcclxuXHRcdGZpbGwgJ3doaXRlJ1xyXG5cdFx0dGV4dCBzY29yZSwgMTAuMSpTSVpFLCAwLjMqU0laRVxyXG5cclxuXHRcdHBvcCgpXHJcblx0XHRAZHJhd0JhcnMgc2NvcmVcclxuXHJcblx0bGl0dGVyYSA6ID0+XHJcblx0XHRub1N0cm9rZSgpXHJcblx0XHRmaWxsICdibGFjaydcclxuXHRcdHRleHRTaXplIFNJWkUqMC4zXHJcblx0XHRsZXR0ZXJzID0gaWYgQGZsaXBwZWQgdGhlbiBcImhnZmVkY2JhXCIgZWxzZSBcImFiY2RlZmdoXCJcclxuXHRcdGRpZ2l0cyA9IGlmIEBmbGlwcGVkIHRoZW4gXCI4NzY1NDMyMVwiIGVsc2UgXCIxMjM0NTY3OFwiIFxyXG5cclxuXHRcdGZvciBpIGluIHJhbmdlIDhcclxuXHRcdFx0dGV4dCBsZXR0ZXJzW2ldLFNJWkUqKGkrMSksU0laRSo4LjhcclxuXHRcdFx0dGV4dCBkaWdpdHNbaV0sU0laRSowLjE1LFNJWkUqKGkrMSlcclxuXHJcblx0ZmxpcCA6ID0+IEBmbGlwcGVkID0gbm90IEBmbGlwcGVkXHJcblxyXG5cdGRyYXdCYXJzIDogKHNjb3JlKSAtPlxyXG5cdFx0cGFyYW0uU3RyaW5nIHNjb3JlXHJcblx0XHRzdHJva2UgJ2JsYWNrJyBcclxuXHRcdGggPSBjYWxjQmFyIHNjb3JlXHJcblx0XHRwdXNoKClcclxuXHRcdGlmIEBmbGlwcGVkXHJcblx0XHRcdHRyYW5zbGF0ZSAwLCBTSVpFKjlcclxuXHRcdFx0c2NhbGUgMSwgLTFcclxuXHRcdHJlY3RNb2RlIENPUk5FUlxyXG5cdFx0bm9TdHJva2UoKVxyXG5cdFx0eCA9IDAuMzUgKiBTSVpFXHJcblx0XHR3ID0gMC4xMCAqIFNJWkVcclxuXHRcdGZpbGwgJ2JsYWNrJ1xyXG5cdFx0cmVjdCB4LCAwLjUqU0laRSwgdywgU0laRSAqIDRcclxuXHRcdGZpbGwgJ3doaXRlJ1xyXG5cdFx0cmVjdCB4LCA0LjUqU0laRSwgdywgU0laRSAqIDRcclxuXHRcdGlmIGggPiAwXHJcblx0XHRcdGZpbGwgJ3doaXRlJ1xyXG5cdFx0XHRyZWN0IHgsIDQuNSpTSVpFIC0gaCwgdywgaFxyXG5cdFx0ZWxzZVxyXG5cdFx0XHRmaWxsICdibGFjaydcclxuXHRcdFx0cmVjdCB4LCA0LjUqU0laRSwgdywgLWhcclxuXHRcdHBvcCgpXHJcblxyXG5cdGNhbGNCYXIgPSAoc2NvcmUpID0+XHJcblx0XHRwYXJhbS5TdHJpbmcgc2NvcmVcclxuXHRcdExJTUlUID0gMjAwMFxyXG5cdFx0aWYgc2NvcmVbMF09PScjJyB0aGVuIGQgPSBMSU1JVFxyXG5cdFx0ZWxzZSBkID0gTWF0aC5hYnMgc2NvcmVcclxuXHRcdGlmIGQ+TElNSVQgdGhlbiBkID0gTElNSVRcclxuXHRcdHJlcyA9IGxlcnAgMCwgNCpTSVpFLCBkL0xJTUlUXHJcblx0XHRpZiBcIi1cIiBpbiBzY29yZSB0aGVuIHJlcyA9IC1yZXNcclxuXHRcdHBhcmFtLkludGVnZXIgTWF0aC5yb3VuZCByZXNcclxuXHRhc3MgNCpTSVpFLGNhbGNCYXIgXCIyMTAwXCJcclxuXHRhc3MgNCpTSVpFLGNhbGNCYXIgXCIyMDAwXCJcclxuXHRhc3MgMipTSVpFLGNhbGNCYXIgXCIxMDAwXCJcclxuXHRhc3MgU0laRSxjYWxjQmFyIFwiNTAwXCJcclxuXHRhc3MgMCxjYWxjQmFyIFwiMVwiXHJcblx0YXNzIC1TSVpFLGNhbGNCYXIgXCItNTAwXCJcclxuXHRhc3MgLTQqU0laRSxjYWxjQmFyIFwiIy0xXCJcclxuIl19
//# sourceURL=c:\github\2023-018-Python-Chess_Evaluate\coffee\board.coffee